# 청첩장 플로우 개선 우선순위 로드맵

> 날짜: 2026-02-10
> 기반: `2026-02-10_invitation-flow-multi-role-review.md` 다중 역할 시뮬레이션 리뷰
> 원칙: "사용자가 친구에게 공유할 수 있는 상태"가 론칭 최소 조건. 결제는 후순위.

---

## 현재 이슈 우선순위 vs 리뷰 결과 비교

| 항목 | 현재 beads 우선순위 | 조정 결과 | 비고 |
|------|-------------------|----------|------|
| 카카오톡 공유 | P3 (cuggu-jl6) | **→ P0** | 한국 시장 핵심 공유 채널 |
| 분석 도구 (GA/PostHog) | 이슈 없음 | **→ P0** (cuggu-9e7) | 퍼널 최적화의 전제조건 |
| 모바일 에디터 | P2 (cuggu-bq5, 검증만) | **→ P1** (cuggu-iji) | 검증이 아니라 구현 필요 |
| 온보딩/가이드 | 이슈 없음 | **→ P1** (cuggu-qj7) | 첫 진입 이탈 방지 |
| 실시간 검증 | 이슈 없음 | **→ P1** (cuggu-6oh) | 발행 시점 검증 에러 방지 |
| 저장 실패 알림 | 이슈 없음 | **→ P1** (cuggu-j1v) | 데이터 유실 방지 |
| 공유 완료 모달 | 이슈 없음 | **→ P1** (cuggu-9ck) | 공유 동선 개선 |
| 바이럴 CTA | 이슈 없음 | **→ P2** (cuggu-70d) | 성장 루프 |
| 콘텐츠 톤 개선 | 이슈 없음 | **→ P2** (cuggu-nvr) | 감성 품질 |
| 만료 자동화 | 이슈 없음 | **→ P2** (cuggu-a85) | 운영 자동화 |
| 갤러리 슬라이드 | P2 (cuggu-3f3) | P2 유지 | OK |
| OG 공유 이미지 | P1 (cuggu-bpa) | P1 유지 | OK |
| 결제 시스템 (Toss) | P4 (cuggu-8vc) | **P4 유지** | 의도적 후순위. 서비스 안정화 후 연동 |

---

## Phase 0: 론칭 차단 이슈 (공유할 수 없는 상태)

> 이것들이 안 되면 서비스를 열어도 의미 없음

### 0-1. 카카오톡 공유 (에디터 통합) `cuggu-jl6` → P3에서 P0으로

**현재**: 공개 페이지 ShareBar에서만 카카오톡 공유 가능. 에디터에서는 링크 복사만.
**임팩트**: 한국 사용자의 주 공유 채널. 발행→공유가 3단계(링크복사→브라우저→카톡)인 게 치명적.
**범위**:
  - 에디터 TopBar에 카카오톡 공유 버튼 추가
  - 발행 완료 후 공유 모달 (카카오톡 / 링크복사 / 네이티브 공유)
  - 기존 `lib/kakao-share.ts` 재사용
**의존성**: 카카오 SDK 키 (이미 있음, 맵 키와 분리 검토 필요)
**예상 작업량**: 소

### 0-2. 분석 도구 도입 `cuggu-9e7`

**현재**: GA, Mixpanel, PostHog 전무. 퍼널 데이터 수집 불가.
**임팩트**: 어디서 이탈하는지 모르면 어떤 최적화도 블라인드.
**범위**:
  - GA4 또는 PostHog 설치 (추천: PostHog — 퍼널+세션 리플레이 무료 티어)
  - 핵심 이벤트 정의: 가입, 첫 생성, 탭 전환, AI 생성, 발행, 공유, 하객 열람, RSVP
  - 공개 페이지 viewCount 대체할 실제 유니크 방문자 추적
**의존성**: 없음
**예상 작업량**: 소~중

---

## Phase 1: 핵심 UX 개선 (이탈 방지 + 활성화)

> Phase 0 완료 후, 사용자 경험의 가장 큰 구멍 메우기

### 1-1. 모바일 에디터 `cuggu-iji` (cuggu-bq5는 검증만)

**현재**: 3패널 고정 레이아웃 (최소 1400px). 스마트폰 편집 불가.
**임팩트**: 한국 사용자 80%+ 모바일. 결혼 준비 커플이 PC 앞에만 있지 않음.
**범위**:
  - 모바일: 탭 네비(하단) + 폼(전체화면) + 미리보기(전체화면 토글) 1패널 전환
  - 태블릿: 폼 + 미리보기 2패널
  - 데스크톱: 현재 3패널 유지
  - SectionPanel → 하단 탭바 또는 햄버거 메뉴
**의존성**: 없음
**예상 작업량**: 대 (에디터 레이아웃 전면 리팩토링)

### 1-2. 에디터 온보딩 `cuggu-qj7`

**현재**: 생성 즉시 빈 8탭 에디터로 던져짐. 가이드 없음.
**임팩트**: "뭘 먼저 해야 하지?" → 이탈.
**범위** (택 1):
  - **A. 퀵 위자드**: 첫 생성 시 3단계 모달 (이름→날짜/장소→템플릿) → 에디터 진입
  - **B. 가이드 오버레이**: 에디터 진입 시 "필수 정보부터 채워볼까요?" + 필수 탭 하이라이트
**의존성**: 없음
**예상 작업량**: 소~중

### 1-3. 발행 전 실시간 검증 `cuggu-6oh`

**현재**: 발행 버튼 누를 때만 검증. 편집 중 피드백 없음.
**임팩트**: 사용자 감정 곡선 급락 지점 ("진작 알려주지...")
**범위**:
  - 사이드바 탭 상태 뱃지 실시간 갱신 (현재도 있으나 즉시 반영 안 됨)
  - 필수 필드 미입력 시 빨간 테두리 + 인라인 메시지
  - 발행 버튼에 완료율 표시 또는 미완료 시 비활성
**의존성**: 없음
**예상 작업량**: 소

### 1-4. 저장 실패 알림 `cuggu-j1v`

**현재**: 자동저장 실패 시 조용히 localStorage 백업. 사용자 인지 불가.
**임팩트**: 데이터 유실 위험. 신뢰 훼손.
**범위**:
  - 저장 실패 시 TopBar에 경고 표시 ("저장에 실패했습니다. 재시도 중...")
  - 재시도 로직 (3회까지 exponential backoff)
  - 지속 실패 시 수동 저장 버튼 + "오프라인 백업됨" 안내
**의존성**: 없음
**예상 작업량**: 소

### 1-5. 공유 완료 모달 `cuggu-9ck`

**현재**: 발행 시 토스트 한 줄 + 링크 복사.
**임팩트**: 가장 설레는 순간을 토스트 한 줄로 끝냄.
**범위**:
  - 발행 성공 모달: 축하 메시지 + 청첩장 미리보기 썸네일
  - 공유 옵션: 카카오톡 / 링크복사 / 네이티브공유 버튼 한 화면에
  - 공유 메시지 템플릿: "저희 결혼합니다! 소중한 분들을 초대합니다" 기본 포함
**의존성**: 0-1 (카카오톡 공유 cuggu-jl6) 완료 후
**예상 작업량**: 소

---

## Phase 2: 성장 기반 (바이럴 + 콘텐츠 + 폴리싱)

> Phase 1 완료 후, 성장 루프 강화

### 2-1. 바이럴 CTA 강화 `cuggu-70d`

**현재**: 공개 페이지 하단 "Cuggu" 텍스트 링크. 클릭 추적 없음.
**범위**:
  - 하단 CTA: "나도 이렇게 예쁜 청첩장 만들기 →" (브랜드 링크 → CTA 버튼)
  - UTM 파라미터 자동 부착 (`?ref=invitation&id=xxx`)
  - 클릭 이벤트 분석 도구 연동
**예상 작업량**: 소

### 2-2. 인사말 예시 확장 + 콘텐츠 톤 개선 `cuggu-nvr`

**현재**: 인사말 예시 3개. 에러/성공 메시지 무미건조.
**범위**:
  - 인사말 예시 15~20개 (카테고리: 격식/캐주얼/종교/유머/계절)
  - 플레이스홀더 개선: "신랑" → placeholder "이름을 입력하세요"
  - 에러 톤 개선: "필수 정보를 입력해주세요" → "조금만 더 채워주세요"
  - 발행 성공: 감성적 축하 메시지
  - 만료 페이지: "소중한 날의 기록은 간직됩니다" 톤
**예상 작업량**: 소 (카피 작업 중심)

### 2-3. 만료 자동화 `cuggu-a85`

**현재**: `expiresAt` 컬럼 있으나 상태 변경 트리거 없음.
**범위**:
  - Vercel Cron 또는 API route 기반 daily check
  - `expiresAt < now()` && `status = PUBLISHED` → `status = EXPIRED`
  - 만료 7일 전 이메일 알림 (emailNotifications 활용)
**예상 작업량**: 소

### 2-4. 기존 P1 이슈 유지

블로커(cuggu-cul) 이미 완료됨. 아래 이슈들 바로 작업 가능:
  - `cuggu-bpa` 커스텀 OG 공유 이미지 (공유 품질 직접 영향)
  - `cuggu-4rv` 폰트 선택 시스템 (에디터 완성도)
  - `cuggu-erp` 엔딩 섹션 (템플릿 완성도)

---

## Phase 3: 확장 (수익 다변화 + 프리미엄)

> Phase 2 완료 후, 매출 확대

### 3-1. 결제 시스템 (Toss Payments) `cuggu-8vc` — P4 유지

**현재**: 크레딧 구매 UI 존재, 결제 연동 없음.
**판단**: 서비스 품질과 사용자 기반이 먼저. 충분한 트래픽과 사용자 피드백 확보 후 연동.
**범위**: Toss Payments 연동, 크레딧 충전 API, 결제 완료 콜백, 결제 내역
**의존성**: DB 설정 완료 (cuggu-1fd ✅)

### 3-2. 프리미엄 템플릿

**현재**: 6개 전부 무료. 업셀 기회 없음.
**범위**: 프리미엄 전용 템플릿 3~5개 + 잠금 UI + 결제 연동
**의존성**: 3-1 결제 시스템 완료 후

### 3-3. 리퍼럴 프로그램

**범위**: 초대 링크 → 친구 가입 시 양쪽 크레딧 보상

### 3-4. 대시보드 분석 강화

**범위**: 일별 조회수 차트, 유입 경로, RSVP 응답률 트렌드, CSV 내보내기

---

## 실행 순서 요약

```
Phase 0 (론칭 차단)       Phase 1 (핵심 UX)           Phase 2 (성장)         Phase 3 (수익화)
┌───────────────┐     ┌──────────────────────┐    ┌──────────────────┐    ┌──────────────┐
│ 0-1 카톡 공유  │     │ 1-1 모바일 에디터      │    │ 2-1 바이럴 CTA    │    │ 3-1 결제     │
│ 0-2 분석 도구  │────→│ 1-2 온보딩 위자드      │───→│ 2-2 콘텐츠 톤     │───→│ 3-2 프리미엄  │
└───────────────┘     │ 1-3 실시간 검증        │    │ 2-3 만료 자동화    │    │ 3-3 리퍼럴   │
                      │ 1-4 저장 실패 알림     │    │ 2-4 기존 P1 이슈  │    └──────────────┘
                      │ 1-5 공유 완료 모달     │    └──────────────────┘
                      └──────────────────────┘
```

### Phase 0 내부 병렬화

```
[0-1 카톡공유]  ─── 독립, 즉시 시작 가능 (작업량 소, 기존 lib/kakao-share.ts 재사용)
[0-2 분석도구]  ─── 독립, 즉시 시작 가능 (작업량 소~중)
```

둘 다 의존성 없으므로 병렬 진행 가능.

---

## beads 이슈 현황 (반영 완료)

| Phase | 이슈 ID | 제목 | 우선순위 | 상태 |
|-------|---------|------|---------|------|
| **0** | cuggu-jl6 | 카카오톡 SDK 공유 기능 | P0 (P3→P0) | open |
| **0** | cuggu-9e7 | 분석 도구 도입 (GA4/PostHog) | P0 | open |
| **1** | cuggu-iji | 모바일 에디터 반응형 구현 | P1 | open |
| **1** | cuggu-qj7 | 에디터 온보딩 위자드/가이드 | P1 | open |
| **1** | cuggu-6oh | 발행 전 실시간 필드 검증 | P1 | open |
| **1** | cuggu-j1v | 자동저장 실패 알림 및 재시도 | P1 | open |
| **1** | cuggu-9ck | 발행 성공 공유 모달 | P1 | open (→jl6 의존) |
| **2** | cuggu-70d | 바이럴 CTA 강화 (공개 페이지 하단) | P2 | open |
| **2** | cuggu-nvr | 콘텐츠 톤 개선 (카피/인사말/에러) | P2 | open |
| **2** | cuggu-a85 | 청첩장 만료 자동화 (Cron) | P2 | open |
| **3** | cuggu-8vc | 결제 시스템 (Toss Payments) | P4 | open |
