{"id":"cuggu-005","title":"[결제] CheckoutButton + 결제 페이지 (success/fail)","description":"CheckoutButton: PortOne V2 SDK next/script lazyOnload, 클릭→create API→requestPayment(), 네이버페이 bypass 파라미터. success page: useSearchParams→POST /api/payments/complete→결과 표시. fail page: 에러+재시도 버튼. layout: 심플 중앙 정렬. 참고: docs/payment-flow-design.md §5,6","status":"open","priority":1,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-13T16:40:49.715753+09:00","created_by":"jykim","updated_at":"2026-02-13T16:40:49.715753+09:00","labels":["frontend","payment"],"dependencies":[{"issue_id":"cuggu-005","depends_on_id":"cuggu-atb","type":"blocks","created_at":"2026-02-13T16:41:10.229531+09:00","created_by":"jykim"}]}
{"id":"cuggu-03e","title":"[결제] 기존 버튼 3곳 + 어드민 라벨 연결","description":"settings 프리미엄/크레딧 버튼→CheckoutButton, TemplateTab 업그레이드 버튼→CheckoutButton, DashboardNav 크레딧 구매→CheckoutButton. admin PaymentTable/API: TOSS→NAVER_PAY 라벨, channel 컬럼/필터 추가. payments/history: 동일 라벨 업데이트. 참고: docs/payment-flow-design.md §5","status":"open","priority":1,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-13T16:40:53.446793+09:00","created_by":"jykim","updated_at":"2026-02-13T16:40:53.446793+09:00","labels":["frontend","payment"],"dependencies":[{"issue_id":"cuggu-03e","depends_on_id":"cuggu-005","type":"blocks","created_at":"2026-02-13T16:41:10.267374+09:00","created_by":"jykim"}]}
{"id":"cuggu-04b","title":"RSVP 기능 구현","description":"RSVP 폼 (참석 여부, 동행 인원, 축하 메시지), 통계 대시보드, 엑셀 다운로드 기능","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-03T14:34:40.49345+09:00","created_by":"jyk","updated_at":"2026-02-06T18:11:05.697635+09:00","closed_at":"2026-02-06T18:11:05.697635+09:00","close_reason":"전체 구현 완료 확인. DB 스키마, API(POST/GET/DELETE), RSVPForm, 대시보드 통계, 6개 템플릿 통합, 에디터 설정 모두 동작 중.","labels":["backend"],"dependencies":[{"issue_id":"cuggu-04b","depends_on_id":"cuggu-1fd","type":"blocks","created_at":"2026-02-03T14:40:06.260584+09:00","created_by":"jyk"}]}
{"id":"cuggu-0d7","title":"오프닝 애니메이션 프리셋 추가 (3종)","description":"기존 fade 외 curtain(세로 커튼), letter(편지봉투), petal(꽃잎) 추가. 순수 Framer Motion, 2초 이내, LCP 차단 금지. settings.openingAnimation 옵션.","status":"open","priority":3,"issue_type":"feature","owner":"jiyk1308@solbox.com","created_at":"2026-02-09T11:27:29.586433+09:00","created_by":"jykim","updated_at":"2026-02-09T11:27:29.586433+09:00"}
{"id":"cuggu-0jo","title":"[결제] lib/payments/ 서버 유틸 — portone.ts + grant.ts","description":"portone.ts: PortOne V2 API 클라이언트 (verifyPayment — GET /payments/{id} + Authorization: PortOne {SECRET}). grant.ts: 보상 지급 atomic transaction (lib/ai/credits.ts 패턴 재사용 — sql atomic increment + aiCreditTransactions INSERT). 참고: docs/payment-flow-design.md §6","status":"open","priority":1,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-13T16:40:40.024662+09:00","created_by":"jykim","updated_at":"2026-02-13T16:40:40.024662+09:00","labels":["backend","payment"],"dependencies":[{"issue_id":"cuggu-0jo","depends_on_id":"cuggu-p7b","type":"blocks","created_at":"2026-02-13T16:41:10.15405+09:00","created_by":"jykim"}]}
{"id":"cuggu-0o1","title":"환경 변수 설정 (AWS, Azure, Replicate, Upstash)","description":"AI 사진 생성에 필요한 환경 변수 설정\n\n## 필요한 환경 변수\n\n### AWS S3\n- AWS_REGION=\"ap-northeast-2\"\n- AWS_ACCESS_KEY_ID\n- AWS_SECRET_ACCESS_KEY\n- S3_BUCKET_NAME=\"cuggu-ai-photos\"\n\n### Upstash Redis\n- UPSTASH_REDIS_REST_URL\n- UPSTASH_REDIS_REST_TOKEN\n\n### 기존 변수 수정\n- `.env.local`에서 `AZURE_FACE_API_ENDPOINT` → `AZURE_FACE_ENDPOINT` 이름 변경\n\n## 참고\n- docs/ai-photo-frontend-plan.md 섹션 2","status":"closed","priority":0,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-04T20:31:12.369222+09:00","created_by":"jykim","updated_at":"2026-02-04T21:12:50.209298+09:00","closed_at":"2026-02-04T21:12:50.209298+09:00","close_reason":"Closed"}
{"id":"cuggu-0ohl","title":"[공개뷰] NavigationButtons 토스트 닫기 버튼 ~24px 터치 타겟","description":"파일: NavigationButtons.tsx:134\n문제: 토스트 메시지의 닫기(X) 버튼이 약 24px로 모바일 최소 터치 타겟 44px에 미달. 손가락으로 누르기 어려움.\n수정 방향: 닫기 버튼 최소 크기 44x44px로 확대. 패딩으로 터치 영역 확보하되 시각적 크기는 유지.","status":"open","priority":2,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T16:38:45.64718+09:00","created_by":"jykim","updated_at":"2026-02-20T16:38:45.64718+09:00","labels":["mobile","ui"]}
{"id":"cuggu-0oni","title":"ai-photos 3뷰(card/list/gallery) 동일 로직 3벌","description":"app/(dashboard)/ai-photos/page.tsx:149-287 — thumbUrl 추출, 날짜 포맷, 빈 상태 아이콘, 새 앨범 버튼이 3개 블록에 거의 동일 반복. AlbumItem 컴포넌트 추출, viewMode를 prop으로 전달.","status":"open","priority":2,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T16:26:52.007814+09:00","created_by":"jykim","updated_at":"2026-02-20T16:26:52.007814+09:00"}
{"id":"cuggu-0us","title":"앨범 적용 API + 생성 API albumId 추가","status":"closed","priority":1,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-12T15:36:40.571759+09:00","created_by":"jykim","updated_at":"2026-02-12T15:41:21.955688+09:00","closed_at":"2026-02-12T15:41:21.955688+09:00","close_reason":"Closed","dependencies":[{"issue_id":"cuggu-0us","depends_on_id":"cuggu-417","type":"blocks","created_at":"2026-02-12T15:36:47.281147+09:00","created_by":"jykim"}]}
{"id":"cuggu-0ydo","title":"[대시보드] 죽은 버튼 4곳 — onClick 없음 (크레딧 구매, 비밀번호 변경, 계정 삭제, 영수증)","description":"파일: DashboardNav.tsx, AccountTab.tsx, PaymentsTab.tsx\n문제: 크레딧 구매 버튼, 비밀번호 변경 버튼, 계정 삭제 버튼, 영수증 보기 버튼에 onClick 핸들러 없음. 클릭해도 아무 반응 없음.\n수정 방향: 미구현 기능은 disabled 상태 + '준비 중' 툴팁 표시. 또는 해당 버튼 자체를 숨기고 기능 구현 후 노출.","status":"open","priority":0,"issue_type":"bug","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T16:37:33.422229+09:00","created_by":"jykim","updated_at":"2026-02-20T16:37:33.422229+09:00","labels":["dashboard","ui"]}
{"id":"cuggu-1cw","title":"인터뷰 Q\u0026A 섹션","description":"미리 정의된 질문 템플릿(첫만남, 프러포즈, 첫인상, 결심 순간, 매력포인트). 신랑/신부 각각 답변, 좌우 또는 상하 카드 레이아웃. interview: Array\u003c{ question, groomAnswer?, brideAnswer? }\u003e","notes":"[로드맵 리뷰] P3→P4. Nice-to-have의 극치. MVP 이후 검토.","status":"open","priority":4,"issue_type":"feature","owner":"jiyk1308@solbox.com","created_at":"2026-02-09T11:27:23.865129+09:00","created_by":"jykim","updated_at":"2026-02-10T17:13:30.995763+09:00"}
{"id":"cuggu-1f4","title":"템플릿 enum DB/Zod/컴포넌트 동기화","description":"DB/Zod: CLASSIC,MODERN,VINTAGE,FLORAL,MINIMAL. 컴포넌트: Classic,Modern,Elegant,Floral,Minimal,Natural. VINTAGE↔Elegant/Natural 불일치로 사용자 데이터 유실 위험. db/schema.ts, schemas/invitation.ts, components/templates/ 동기화 필요.","status":"closed","priority":0,"issue_type":"bug","owner":"jiyk1308@solbox.com","created_at":"2026-02-14T15:11:50.308879+09:00","created_by":"jykim","updated_at":"2026-02-14T17:02:10.464276+09:00","closed_at":"2026-02-14T17:02:10.464276+09:00","close_reason":"DB enum에 ELEGANT/NATURAL 추가, Zod schema 동기화, 마이그레이션 0010 생성. VINTAGE는 DB 호환성 위해 유지."}
{"id":"cuggu-1fd","title":"데이터베이스 설정 (Supabase + Prisma)","description":"Supabase 프로젝트 생성, Prisma 스키마 작성 (User, Invitation, RSVP, AIGeneration, Payment), 마이그레이션 실행","status":"closed","priority":0,"issue_type":"task","created_at":"2026-02-03T14:34:21.023369+09:00","created_by":"jyk","updated_at":"2026-02-03T17:02:08.311648+09:00","closed_at":"2026-02-03T17:02:08.311648+09:00","close_reason":"Drizzle ORM으로 완료 (Prisma 대신 Drizzle 사용)","labels":["database"],"dependencies":[{"issue_id":"cuggu-1fd","depends_on_id":"cuggu-z3j","type":"blocks","created_at":"2026-02-03T14:40:02.333323+09:00","created_by":"jyk"}]}
{"id":"cuggu-1nn","title":"유저 삭제 정책 수립 및 구현","description":"현재 유저 삭제 정책이 없음. CASCADE → RESTRICT 전환(1-3)으로 결제/크레딧 이력이 있는 유저는 DB가 삭제를 거부하게 됐지만, 실제 삭제 플로우가 정의되지 않은 상태.\n\n결정 필요 사항:\n1. 하드 삭제 vs 소프트 삭제 (is_deleted 플래그 or deleted_at 타임스탬프)\n2. 결제/크레딧 이력 보존 방식 — 익명화(user_id → anonymous) vs 유저 행만 soft delete\n3. 법적 보관 기간 — 전자상거래법 5년 (결제), 개인정보보호법 (로그인 기록 등)\n4. 삭제 요청 → 유예 기간 (예: 30일 후 실제 처리) vs 즉시 처리\n5. 연관 데이터 처리 순서: S3 이미지, AI 생성 이력, 청첩장, RSVP 등\n\n현재 상태:\n- payments, ai_credit_transactions FK: RESTRICT (유저 삭제 차단됨)\n- 나머지 테이블 FK: CASCADE (유저 삭제 시 같이 삭제됨)\n- 계정 삭제 UI: cuggu-mi2에서 별도 트래킹 중이지만 정책 없이 구현 불가\n\n구현 시 필요한 작업:\n- users 테이블에 deleted_at 컬럼 추가\n- 삭제 API: soft delete + 관련 데이터 익명화 처리\n- Cron: 유예 기간 경과 후 하드 삭제 (S3 정리 포함)\n- 어드민 패널에서 삭제 요청 관리 UI","status":"open","priority":2,"issue_type":"feature","owner":"jiyk1308@solbox.com","created_at":"2026-02-13T15:37:20.090016+09:00","created_by":"jykim","updated_at":"2026-02-13T15:37:20.090016+09:00"}
{"id":"cuggu-1pj","title":"CSP 헤더 추가","description":"next.config.ts에 Content-Security-Policy 헤더 추가. XSS 최후 방어선.","status":"closed","priority":1,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-14T17:09:17.02339+09:00","created_by":"jykim","updated_at":"2026-02-14T17:10:38.192003+09:00","closed_at":"2026-02-14T17:10:38.192003+09:00","close_reason":"atomic SQL 연산, CSP 헤더, 타입 수정 완료"}
{"id":"cuggu-1rt3","title":"얕은 병합(shallow merge)으로 중첩 객체 데이터 유실 가능","description":"stores/invitation-editor.ts:75 — updateInvitation이 최상위만 스프레드. wedding.venue.name 업데이트 시 wedding.date 사라짐. lodash/merge 또는 deep merge 도입 필요.","status":"open","priority":0,"issue_type":"bug","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T16:25:51.027101+09:00","created_by":"jykim","updated_at":"2026-02-20T16:25:51.027101+09:00"}
{"id":"cuggu-1ul","title":"설정 탭 섹션 순서 드래그앤드롭 구현","description":"dnd-kit으로 설정 탭의 섹션 순서 변경을 드래그앤드롭으로 개선. 기존 위/아래 버튼 방식에서 업그레이드.","status":"closed","priority":1,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-05T14:31:39.164565+09:00","created_by":"jykim","updated_at":"2026-02-05T14:32:55.905287+09:00","closed_at":"2026-02-05T14:32:55.905287+09:00","close_reason":"dnd-kit으로 섹션 순서 드래그앤드롭 구현 완료","labels":["frontend"]}
{"id":"cuggu-1y8d","title":"이미지 다운로드 함수 4중 구현","description":"openai.ts:downloadImageAsBuffer, gemini.ts:downloadImageAsBase64, s3.ts:인라인 fetch, internal.ts:인라인 fetch — 4곳에서 각각 구현. lib/ai/image-utils.ts에 downloadImageAsBuffer 단일 함수 추출.","status":"open","priority":2,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T16:27:04.825766+09:00","created_by":"jykim","updated_at":"2026-02-20T16:27:04.825766+09:00"}
{"id":"cuggu-28ox","title":"[에디터] h-screen + h-[100dvh] 중복 클래스","description":"파일: app/m/editor/[id]/page.tsx:77\n문제: h-screen과 h-[100dvh]가 동시에 적용됨. h-[100dvh]가 있으면 h-screen은 불필요하고, 일부 브라우저에서 충돌 가능.\n수정 방향: h-[100dvh]만 유지하고 h-screen 제거. dvh 미지원 브라우저용으로 h-screen을 fallback으로 쓰려면 순서 조정.","status":"open","priority":3,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T16:39:57.80003+09:00","created_by":"jykim","updated_at":"2026-02-20T16:39:57.80003+09:00","labels":["editor","ui"]}
{"id":"cuggu-2cq","title":"[Phase 4] useAIGeneration 훅 추출","description":"hooks/useAIGeneration.ts 신규. AlbumDashboard.tsx 278-373행의 SSE 스트리밍 로직을 훅으로 추출. generateSingle, generateBatch(순차 SSE N번), cancel, 상태 관리. Phase 3 완료 후 가능.","status":"closed","priority":1,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-12T18:04:20.668125+09:00","created_by":"jykim","updated_at":"2026-02-12T18:24:11.943414+09:00","closed_at":"2026-02-12T18:24:11.943414+09:00","close_reason":"Closed","dependencies":[{"issue_id":"cuggu-2cq","depends_on_id":"cuggu-4gl","type":"blocks","created_at":"2026-02-12T18:05:07.312263+09:00","created_by":"jykim"}]}
{"id":"cuggu-2fr","title":"발행 API 서버사이드 검증 추가","status":"closed","priority":1,"issue_type":"bug","owner":"jiyk1308@solbox.com","created_at":"2026-02-11T09:56:37.738137+09:00","created_by":"jykim","updated_at":"2026-02-11T20:03:13.564904+09:00","closed_at":"2026-02-11T20:03:13.564904+09:00","close_reason":"PUBLISHED 전환 시 4개 필수 필드 서버사이드 검증 구현 완료"}
{"id":"cuggu-303","title":"크레딧 차감 atomic update (race condition 수정)","status":"closed","priority":0,"issue_type":"bug","owner":"jiyk1308@solbox.com","created_at":"2026-02-11T09:56:36.702088+09:00","created_by":"jykim","updated_at":"2026-02-11T09:59:37.838157+09:00","closed_at":"2026-02-11T09:59:37.838157+09:00","close_reason":"이미 atomic update 패턴 적용됨 (sql`credits - 1` WHERE credits \u003e= 1 RETURNING). race condition 없음"}
{"id":"cuggu-32mz","title":"alert() 8곳+ 사용 → useToast 교체","description":"invitations/page.tsx, settings/page.tsx, admin/users, admin/settings, EmptyState, InvitationCard 등 8곳+. Toast 시스템(components/ui/Toast.tsx, useToast 훅)이 이미 존재. 전부 useToast()로 교체.","status":"open","priority":1,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T16:26:06.026808+09:00","created_by":"jykim","updated_at":"2026-02-20T16:26:06.026808+09:00"}
{"id":"cuggu-36k","title":"공개 청첩장 뷰 QA — 빈 데이터 방어 + OG fallback","description":"GreetingSection/CeremonySection/CoverSection 빈 데이터 방어, OG 기본 이미지 fallback, ShareBar imageUrl undefined 방어","status":"closed","priority":1,"issue_type":"bug","owner":"jiyk1308@solbox.com","created_at":"2026-02-13T16:04:45.824294+09:00","created_by":"jykim","updated_at":"2026-02-13T16:04:49.703608+09:00","closed_at":"2026-02-13T16:04:49.703608+09:00","close_reason":"5개 파일 수정 완료: GreetingSection null guard, CeremonySection invalid date guard, CoverSection empty name guard, OG default image fallback, ShareBar imageUrl undefined 방어"}
{"id":"cuggu-3a7","title":"RSVP 폼 테마 연동","description":"RSVP 폼이 rose-600 하드코딩 상태. SerializableTheme에 rsvp* 필드 4개 추가, RSVPForm.tsx 테마 색상 적용, AI 프롬프트에 RSVP 필드 가이드라인 추가. 설계: docs/diary/2026-02-09_rsvp-theme-integration.md","status":"open","priority":3,"issue_type":"feature","owner":"jiyk1308@solbox.com","created_at":"2026-02-10T14:29:15.934366+09:00","created_by":"jykim","updated_at":"2026-02-10T14:29:15.934366+09:00"}
{"id":"cuggu-3f3","title":"갤러리 슬라이드 레이아웃 추가","description":"갤러리에 슬라이드(캐러셀) 레이아웃 옵션 추가. embla-carousel 사용. 자동재생, 도트 인디케이터. settings.galleryLayout: 'grid' | 'slide'. GalleryRenderer 컴포넌트에서 layout prop으로 분기. 사진 방향 감지: 업로드 시 width/height 메타데이터 저장.","status":"open","priority":2,"issue_type":"feature","owner":"jiyk1308@solbox.com","created_at":"2026-02-06T17:47:25.796066+09:00","created_by":"jykim","updated_at":"2026-02-06T17:47:25.796066+09:00"}
{"id":"cuggu-3ff","title":"AI 포토 앨범 v2 — 앨범-퍼스트 리디자인","description":"앨범을 메인 화면으로 전환. 기존 단건 생성 유지 + 앨범 귀속. 설계 문서: docs/ai-album-v2-design.md. 핵심: aiAlbums 테이블 1개 추가, 탭 구조 제거, 스냅 타입 3개 카테고리, 큐레이션(dnd-kit). 묶음/배치 생성은 Phase 2로 연기.","status":"closed","priority":0,"issue_type":"feature","owner":"jiyk1308@solbox.com","created_at":"2026-02-12T18:03:25.971589+09:00","created_by":"jykim","updated_at":"2026-02-19T14:49:04.953997+09:00","closed_at":"2026-02-19T14:49:04.953997+09:00","close_reason":"v2 전체 구현 + 안정화(c10fceb) 완료"}
{"id":"cuggu-3ha","title":"스키마에 sectionOrder 필드 추가","description":"schemas/invitation.ts에 REORDERABLE_SECTIONS, SectionId, DEFAULT_SECTION_ORDER, SECTION_LABELS, sanitizeSectionOrder 함수 추가. SettingsSchema에 sectionOrder 필드 추가.","status":"closed","priority":2,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-05T13:37:16.215087+09:00","created_by":"jykim","updated_at":"2026-02-05T13:54:17.738367+09:00","closed_at":"2026-02-05T13:54:17.738367+09:00","close_reason":"스키마에 REORDERABLE_SECTIONS, SectionId, DEFAULT_SECTION_ORDER, SECTION_LABELS, sanitizeSectionOrder 추가 완료"}
{"id":"cuggu-3m97","title":"커플사진 기본 모드 전환 + Replicate 제거","status":"closed","priority":1,"issue_type":"feature","owner":"jiyk1308@solbox.com","created_at":"2026-02-19T13:43:39.978368+09:00","created_by":"jykim","updated_at":"2026-02-19T13:52:53.490906+09:00","closed_at":"2026-02-19T13:52:53.490906+09:00","close_reason":"커플사진 기본 모드 전환 + Replicate 제거 완료. 17개 파일 수정, 1개 삭제. tsc + vitest 62/62 통과."}
{"id":"cuggu-3on","title":"비밀번호 검증 쿠키 HMAC 서명 적용","description":"invitation_{id}_verified=true 쿠키가 서명 없이 설정되어 비밀번호 보호 우회 가능. HMAC 서명 토큰으로 교체 필요. 파일: app/api/invitations/[id]/verify/route.ts","status":"closed","priority":0,"issue_type":"bug","owner":"jiyk1308@solbox.com","created_at":"2026-02-14T15:11:47.228457+09:00","created_by":"jykim","updated_at":"2026-02-14T15:13:07.433625+09:00","closed_at":"2026-02-14T15:13:07.433625+09:00","close_reason":"HMAC 서명 토큰 적용 완료. lib/invitation-verification.ts 신규 생성, verify/route.ts와 inv/[id]/page.tsx 수정."}
{"id":"cuggu-3ozr","title":"RSVPForm react-hook-form 미사용","description":"components/rsvp/RSVPForm.tsx:43-51 — 6개 useState로 폼 관리. react-hook-form + @hookform/resolvers + Zod 이미 설치됨. schemas/rsvp에 스키마도 존재. 검증은 guestName.trim() 인라인만. react-hook-form + zodResolver 전환 필요.","status":"open","priority":1,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T16:26:20.097016+09:00","created_by":"jykim","updated_at":"2026-02-20T16:26:20.097016+09:00"}
{"id":"cuggu-3pb","title":"실제 서비스 연동 테스트","description":"실제 외부 서비스(Replicate, Azure, AWS, Upstash)를 사용한 E2E 테스트\n\n## 테스트 시나리오\n1. 신랑 사진 업로드 → 스타일 선택 → 생성 → 4장 확인 → 1장 선택\n2. 신부 사진도 동일하게 테스트\n3. 크레딧 차감 확인 (2 → 0)\n4. 생성 시간 측정 (20-40초 이내)\n5. 재생성 테스트 (크레딧 추가 차감)\n\n## 준비 사항\n- Replicate 토큰 발급 (API 키 확보)\n- Azure Face API 리소스 생성 (F0 무료 티어)\n- AWS S3 버킷 생성 + IAM 사용자\n- Upstash Redis 생성 (무료 티어)\n- 테스트용 증명 사진 2장 준비\n\n## 예상 비용\n- 1회 생성: $0.16 (4장 × $0.04)\n- 테스트 20회: 약 $3.20\n\n## 참고\n- docs/ai-photo-frontend-plan.md 섹션 8","status":"open","priority":2,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-04T20:31:55.443947+09:00","created_by":"jykim","updated_at":"2026-02-04T20:31:55.443947+09:00"}
{"id":"cuggu-40m","title":"AIStyle enum → 별도 테이블 분리 (동적 스타일 관리)","description":"현재 AIStyle은 PG enum + 코드 하드코딩. 스타일 추가할 때마다 DB 마이그레이션 + 코드 4곳 수정 필요. ai_styles 테이블로 분리하면 관리 UI에서 동적 추가 가능. 작업 범위: DB 마이그레이션(enum→FK), 프롬프트 DB 저장, 메타데이터(label/description) DB 이관, 관리 UI CRUD, 프론트 API 연동. 예상 3-5일.","status":"open","priority":3,"issue_type":"feature","owner":"jiyk1308@solbox.com","created_at":"2026-02-13T15:31:59.35591+09:00","created_by":"jykim","updated_at":"2026-02-13T15:31:59.35591+09:00"}
{"id":"cuggu-417","title":"앨범 CRUD API","status":"closed","priority":1,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-12T15:36:39.307612+09:00","created_by":"jykim","updated_at":"2026-02-12T15:41:21.910253+09:00","closed_at":"2026-02-12T15:41:21.910253+09:00","close_reason":"Closed","dependencies":[{"issue_id":"cuggu-417","depends_on_id":"cuggu-bs1","type":"blocks","created_at":"2026-02-12T15:36:47.203901+09:00","created_by":"jykim"},{"issue_id":"cuggu-417","depends_on_id":"cuggu-dko","type":"blocks","created_at":"2026-02-12T15:36:47.2441+09:00","created_by":"jykim"}]}
{"id":"cuggu-41x","title":"회원가입 시 웰컴 보너스 크레딧 BONUS 트랜잭션 기록 추가","description":"현재 회원가입 시 DB default(5)로 크레딧이 지급되지만, aiCreditTransactions에 BONUS 타입 트랜잭션 기록이 남지 않음. NextAuth 가입 콜백에서 초기 크레딧 지급 시 BONUS 트랜잭션을 명시적으로 기록하도록 개선 필요. - balanceAfter: 5, type: BONUS, description: 회원가입 웰컴 보너스","status":"closed","priority":2,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-13T16:05:30.029553+09:00","created_by":"jykim","updated_at":"2026-02-19T14:34:08.064763+09:00","closed_at":"2026-02-19T14:34:08.064763+09:00","close_reason":"auth.ts events.createUser에서 aiCreditTransactions BONUS 5크레딧 기록 추가 완료"}
{"id":"cuggu-44jz","title":"[에디터] Sidebar.tsx, TabletTabStrip.tsx 미사용 파일 잔존","description":"파일: components/editor/Sidebar.tsx, components/editor/TabletTabStrip.tsx\n문제: 더 이상 import되지 않는 레거시 컴포넌트 파일이 남아있음. 코드베이스 혼란 유발.\n수정 방향: git grep으로 import 확인 후 미사용이면 삭제.","status":"open","priority":2,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T16:39:11.052491+09:00","created_by":"jykim","updated_at":"2026-02-20T16:39:11.052491+09:00","labels":["editor","refactor"]}
{"id":"cuggu-4a1","title":"[Phase 1] 참조 사진 API — POST/GET/DELETE","description":"(1) app/api/ai/reference-photos/route.ts: POST FormData(image,role)→얼굴감지→S3 업로드→DB 저장, GET 유저 참조 사진 목록. (2) app/api/ai/reference-photos/[id]/route.ts: DELETE isActive=false. (3) schemas/ai.ts에 CreateReferencePhotoSchema, ReferencePhotoSchema 추가. Phase 0 스키마 완료 후 가능.","status":"closed","priority":1,"issue_type":"feature","owner":"jiyk1308@solbox.com","created_at":"2026-02-12T18:03:51.679222+09:00","created_by":"jykim","updated_at":"2026-02-12T18:13:37.596891+09:00","closed_at":"2026-02-12T18:13:37.596891+09:00","close_reason":"Closed","dependencies":[{"issue_id":"cuggu-4a1","depends_on_id":"cuggu-wci","type":"blocks","created_at":"2026-02-12T18:05:06.784875+09:00","created_by":"jykim"},{"issue_id":"cuggu-4a1","depends_on_id":"cuggu-bi8","type":"blocks","created_at":"2026-02-12T18:05:06.851028+09:00","created_by":"jykim"}]}
{"id":"cuggu-4al","title":"[Phase 0] BATCH_SIZE 2→1 변경 + AIStreamingGallery 하드코딩 수정","description":"lib/ai/constants.ts BATCH_SIZE: 2→1. components/ai/AIStreamingGallery.tsx 60행 completedCount/4→completedCount/images.length, 122행 동일 수정. 모든 후속 작업의 전제 조건.","status":"closed","priority":0,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-12T18:03:48.489+09:00","created_by":"jykim","updated_at":"2026-02-12T18:11:14.93061+09:00","closed_at":"2026-02-12T18:11:14.93061+09:00","close_reason":"Closed"}
{"id":"cuggu-4fwi","title":"[대시보드] 날짜 포맷 6가지 혼용, 공유 유틸 없음","description":"파일: 다수 대시보드 파일\n문제: toLocaleDateString, format(), 직접 문자열 조합 등 6가지 이상의 날짜 포맷 방식이 혼재. 같은 날짜가 페이지마다 다르게 표시됨.\n수정 방향: lib/utils/date.ts에 formatDate, formatDateTime, formatRelative 등 공유 유틸 생성. date-fns/ko 로케일 활용.","status":"open","priority":1,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T16:38:32.049879+09:00","created_by":"jykim","updated_at":"2026-02-20T16:38:32.049879+09:00","labels":["dashboard","ui"]}
{"id":"cuggu-4gl","title":"[Phase 3] 스트리밍 API 확장 — jobId, referencePhotoId 파라미터","description":"app/api/ai/generate/stream/route.ts: (1) jobId 있으면 크레딧 차감 스킵(이미 선예약), completedImages++ 업데이트, (2) referencePhotoId 있으면 DB URL 조회→얼굴 감지 스킵, (3) done 이벤트에 jobProgress 추가. 하위 호환: jobId 없으면 기존 동작.","status":"closed","priority":1,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-12T18:04:09.444842+09:00","created_by":"jykim","updated_at":"2026-02-12T18:16:58.632665+09:00","closed_at":"2026-02-12T18:16:58.632665+09:00","close_reason":"Closed","dependencies":[{"issue_id":"cuggu-4gl","depends_on_id":"cuggu-9sz","type":"blocks","created_at":"2026-02-12T18:05:07.180895+09:00","created_by":"jykim"}]}
{"id":"cuggu-4i0","title":"AI 생성 사진 → 갤러리 추가 버튼","description":"aiGenerations에서 선택한 사진을 갤러리에 넣는 플로우. 현재 AI로 생성한 사진을 갤러리에 추가하려면 수동 다운로드/업로드 필요. 참고: docs/diary/2026-02-04_gallery-upload-implementation.md","status":"closed","priority":2,"issue_type":"feature","owner":"jiyk1308@solbox.com","created_at":"2026-02-10T14:37:46.451765+09:00","created_by":"jykim","updated_at":"2026-02-19T14:49:08.109015+09:00","closed_at":"2026-02-19T14:49:08.109015+09:00","close_reason":"AddPhotosModal album탭에서 AI앨범→갤러리 선택 플로우 구현됨","dependencies":[{"issue_id":"cuggu-4i0","depends_on_id":"cuggu-ass","type":"blocks","created_at":"2026-02-10T14:38:25.010035+09:00","created_by":"jykim"}]}
{"id":"cuggu-4kd6","title":"[에디터] INPUT_CLASS 상수 3벌 중복 (BasicInfoTab, VenueTab, 인라인)","description":"파일: BasicInfoTab.tsx:30, VenueTab.tsx:21, 기타 인라인\n문제: 동일한 입력 필드 스타일 상수가 3곳에 별도 정의됨. 수정 시 일부만 변경되어 불일치 발생 가능.\n수정 방향: lib/constants/editor-styles.ts에 INPUT_CLASS, LABEL_CLASS 등 공통 상수 정의. 모든 에디터 탭에서 import.","status":"open","priority":2,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T16:38:58.58547+09:00","created_by":"jykim","updated_at":"2026-02-20T16:38:58.58547+09:00","labels":["editor","refactor","ui"]}
{"id":"cuggu-4n9","title":"D-Day 달력 위젯 구현","status":"closed","priority":1,"issue_type":"feature","owner":"jiyk1308@solbox.com","created_at":"2026-02-09T11:26:50.477106+09:00","created_by":"jykim","updated_at":"2026-02-09T11:29:52.019888+09:00","closed_at":"2026-02-09T11:29:52.019888+09:00","close_reason":"D-Day 달력 위젯 3가지 스타일(calendar/countdown/minimal) 구현 완료"}
{"id":"cuggu-4rv","title":"폰트 선택 시스템 구현","description":"6종 한글 폰트(Pretendard, Noto Serif KR, Gowun Batang, Nanum Myeongjo, MaruBuri, KoPub Batang) + 3단계 크기(sm/md/lg). next/font로 선택된 폰트만 로드. 템플릿 루트에 CSS 변수 --font-family, --text-scale 적용. 에디터에 폰트 미리보기 드롭다운. 경쟁사 대비 '심각' 격차 항목.","notes":"[로드맵 리뷰] P1→P2 강등. AI 테마가 디자인 커스텀 대체. 기본 폰트만으로 MVP 충분.","status":"closed","priority":2,"issue_type":"feature","owner":"jiyk1308@solbox.com","created_at":"2026-02-06T17:47:15.811675+09:00","created_by":"jykim","updated_at":"2026-02-20T16:54:45.231578+09:00","closed_at":"2026-02-20T16:54:45.231578+09:00","close_reason":"7개 한글 폰트(Noto Sans KR, Pretendard, Noto Serif KR, Gowun Batang, Nanum Myeongjo, MaruBuri, KoPub Batang) + 3단계 텍스트 크기(sm/md/lg) 구현 완료. CSS 변수 오버라이드 방식으로 템플릿 폰트 일괄 교체. SettingsTab에 폰트 미리보기 UI 추가."}
{"id":"cuggu-52c","title":"SettingsTab에 섹션 순서 UI 추가","description":"components/editor/tabs/SettingsTab.tsx에 섹션 순서 변경 UI 추가. 위/아래 버튼으로 순서 변경, 비활성 섹션 상태 표시, 리셋 버튼.","status":"closed","priority":2,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-05T13:37:18.827536+09:00","created_by":"jykim","updated_at":"2026-02-05T13:55:05.83418+09:00","closed_at":"2026-02-05T13:55:05.83418+09:00","close_reason":"섹션 순서 변경 UI 추가 완료 - 위/아래 버튼, 비활성 섹션 표시, 초기화 버튼","dependencies":[{"issue_id":"cuggu-52c","depends_on_id":"cuggu-3ha","type":"blocks","created_at":"2026-02-05T13:37:24.134599+09:00","created_by":"jykim"}]}
{"id":"cuggu-57q","title":"지도 표시 및 길찾기 버튼 구현 (Kakao Map)","description":"**목표**: 청첩장 템플릿에 지도 표시 및 내비게이션 앱 연동\n\n**구현 내용**:\n1. MapSection 컴포넌트 (Kakao Static Map)\n2. NavigationButtons 컴포넌트 (카카오내비/네이버/티맵)\n3. ClassicTemplate에 지도 섹션 추가\n4. URL 스킴으로 앱 실행 (fallback 웹)\n\n**의존성**: cuggu-fci (주소 검색으로 lat/lng 필요)\n\n**참고**: docs/map-integration-requirements.md","status":"closed","priority":1,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-04T18:05:34.154163+09:00","created_by":"jykim","updated_at":"2026-02-06T17:51:02.888433+09:00","closed_at":"2026-02-06T17:51:02.888433+09:00","close_reason":"이미 구현 완료 확인됨. 공개 청첩장 페이지(6개 템플릿, 전 섹션), 카카오맵 지도/길찾기(3종 내비), 주소 검색/Geocoding 모두 동작 중.","dependencies":[{"issue_id":"cuggu-57q","depends_on_id":"cuggu-fci","type":"blocks","created_at":"2026-02-04T18:05:42.184238+09:00","created_by":"jykim"}]}
{"id":"cuggu-5a0m","title":"[에디터] 토글 스위치 3종류 공존 (크기/색상 불일치) — 공통 컴포넌트 필요","description":"파일: GreetingTab, MobileRsvpTab, SectionPanel\n문제: 에디터 내 토글 스위치가 3가지 다른 구현으로 존재. 크기(w-10/w-11/w-12), 색상(blue/green/indigo), 전환 애니메이션이 제각각.\n수정 방향: components/ui/Toggle.tsx 공통 컴포넌트 생성. size='sm'|'md' prop으로 변형 지원. 모든 토글을 이 컴포넌트로 교체.","status":"open","priority":1,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T16:38:03.351926+09:00","created_by":"jykim","updated_at":"2026-02-20T16:38:03.351926+09:00","labels":["design-system","editor","ui"]}
{"id":"cuggu-5fmu","title":"stream/route.ts 423줄 단일 함수 — 책임 분리 필요","description":"app/api/ai/generate/stream/route.ts — 인증/rate limiting/파일검증/얼굴감지/S3/크레딧/AI생성/Job추적/DB저장/SSE가 하나의 함수. generate/route.ts와 중복 로직 그대로 복사됨. lib/ai/generation-pipeline.ts로 공통 로직 추출, stream은 SSE만 담당.","status":"open","priority":1,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T16:26:24.768298+09:00","created_by":"jykim","updated_at":"2026-02-20T16:26:24.768298+09:00"}
{"id":"cuggu-5gl","title":"Zustand 에디터 스토어 리렌더링 최적화","description":"19개 에디터 컴포넌트 중 17개가 셀렉터 없이 스토어 전체 구독. 3단계 최적화: 셀렉터 도입 → 스토어 분리 → immer/타이머 리팩터링. 상세 계획: docs/todos/zustand-editor-rerender-optimization.md","status":"open","priority":3,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-11T18:26:47.733831+09:00","created_by":"jykim","updated_at":"2026-02-11T18:26:52.200798+09:00"}
{"id":"cuggu-5j4i","title":"[에디터] 체크박스 크기 데스크톱 16px vs 모바일 20px — 동기화 리스크","description":"파일: RsvpTab, MobileRsvpTab\n문제: 데스크톱 RsvpTab의 체크박스가 w-4 h-4(16px), 모바일 MobileRsvpTab은 w-5 h-5(20px). 독립 구현으로 기능 변경 시 동기화 누락 리스크.\n수정 방향: 공통 Checkbox 컴포넌트 또는 공유 체크박스 옵션 데이터 배열. 크기는 반응형으로 처리.","status":"open","priority":2,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T16:39:10.946994+09:00","created_by":"jykim","updated_at":"2026-02-20T16:39:10.946994+09:00","labels":["editor","ui"]}
{"id":"cuggu-5l3x","title":"[대시보드] label-select htmlFor/id 미연결 + table th scope 누락","description":"파일: rsvp/page.tsx, RSVPTable.tsx\n문제: select 드롭다운의 label이 htmlFor/id로 연결 안됨. 테이블 헤더에 scope='col' 누락으로 스크린 리더 테이블 내비게이션 불가.\n수정 방향: label-select 쌍에 id 연결. th에 scope='col'/'row' 추가.","status":"open","priority":2,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T16:39:26.43163+09:00","created_by":"jykim","updated_at":"2026-02-20T16:39:26.43163+09:00","labels":["a11y","dashboard","ui"]}
{"id":"cuggu-5ne","title":"테마 생성 모드 UX 개선 (빠른/정밀)","status":"closed","priority":1,"issue_type":"feature","owner":"jiyk1308@solbox.com","created_at":"2026-02-10T10:34:34.294624+09:00","created_by":"jykim","updated_at":"2026-02-10T10:37:56.537043+09:00","closed_at":"2026-02-10T10:37:56.537043+09:00","close_reason":"Admin 라디오 그룹 UI, API mode 기반 모델 해석, Editor 세그먼트 컨트롤 구현 완료. tsc 통과"}
{"id":"cuggu-5no","title":"갤러리 이미지 삭제 시 S3 파일 정리","description":"현재 갤러리 이미지 삭제 시 DB에서만 제거되고 S3 파일은 남아서 orphan 발생. S3 cleanup 로직 추가 필요. 참고: docs/diary/2026-02-04_gallery-upload-implementation.md","status":"open","priority":2,"issue_type":"bug","owner":"jiyk1308@solbox.com","created_at":"2026-02-10T14:37:48.535084+09:00","created_by":"jykim","updated_at":"2026-02-10T14:37:48.535084+09:00","dependencies":[{"issue_id":"cuggu-5no","depends_on_id":"cuggu-ass","type":"blocks","created_at":"2026-02-10T14:38:25.779043+09:00","created_by":"jykim"}]}
{"id":"cuggu-5r8","title":"transportation 저장 버그 (PUT에 있는데 GET에서 없음)","description":"지도 연동 시 transportation 데이터가 PUT 요청에는 포함되는데 DB 조회 시 undefined. 데이터 매핑 누락 추정. 참고: docs/diary/2026-02-05_map-integration.md","status":"closed","priority":1,"issue_type":"bug","owner":"jiyk1308@solbox.com","created_at":"2026-02-10T14:37:41.977148+09:00","created_by":"jykim","updated_at":"2026-02-10T17:44:17.867308+09:00","closed_at":"2026-02-10T17:44:17.867308+09:00","close_reason":"코드 추적 결과 transportation 매핑이 PUT/GET 양쪽 모두 정상 구현됨. VenueSchema, ExtendedDataSchema, invitationToDbUpdate, dbRecordToInvitation, deep merge 전부 확인. 이전 디버깅 과정에서 수정된 것으로 추정. 디버그 로그 4건 정리."}
{"id":"cuggu-5t9","title":"AI Studio 페이지 리라이트 (SSE 스트리밍 + 멀티셀렉트)","description":"dashboard/ai-photos/page.tsx 전면 리라이트. 동기 POST → SSE 스트리밍(/api/ai/generate/stream), 싱글 → 멀티 선택, 모델 선택 상시 노출(고급 설정 아코디언). 에디터 AIPhotoGenerator 패턴 참고. GenerationProgress/ResultGallery 삭제 후 공유 컴포넌트로 대체.","status":"closed","priority":1,"issue_type":"feature","owner":"jiyk1308@solbox.com","created_at":"2026-02-11T20:57:31.988895+09:00","created_by":"jykim","updated_at":"2026-02-11T21:03:03.673813+09:00","closed_at":"2026-02-11T21:03:03.673813+09:00","close_reason":"AI Studio 페이지 리라이트 완료. SSE 스트리밍, 멀티셀렉트, 모델 선택 상시 노출. GenerationProgress/ResultGallery/ModelSelector 삭제.","dependencies":[{"issue_id":"cuggu-5t9","depends_on_id":"cuggu-oxf","type":"blocks","created_at":"2026-02-11T20:57:42.889753+09:00","created_by":"jykim"}]}
{"id":"cuggu-5wo","title":"[Phase 4] BatchGenerationView + FloatingBar + ResultReveal","description":"BatchGenerationView.tsx: 동적 그리드, sticky 프로그레스, 예상 시간. GenerationFloatingBar.tsx: 최소화 시 하단 바. ResultReveal.tsx: Framer Motion 리빌 애니메이션. CreditDisplay.tsx: 잔여+소모 표시.","status":"closed","priority":1,"issue_type":"feature","owner":"jiyk1308@solbox.com","created_at":"2026-02-12T18:04:31.790375+09:00","created_by":"jykim","updated_at":"2026-02-12T18:24:11.949352+09:00","closed_at":"2026-02-12T18:24:11.949352+09:00","close_reason":"Closed","dependencies":[{"issue_id":"cuggu-5wo","depends_on_id":"cuggu-2cq","type":"blocks","created_at":"2026-02-12T18:05:07.583993+09:00","created_by":"jykim"}]}
{"id":"cuggu-5z56","title":"[에디터] ShareModal/VenueTab z-index 충돌 가능 (둘 다 z-50)","description":"파일: ShareModal.tsx:124, VenueTab.tsx\n문제: ShareModal과 VenueTab 드롭다운 모두 z-50 사용. 동시 표시 시 겹침 문제 발생 가능.\n수정 방향: z-index 토큰 체계 정의 (dropdown: 40, modal: 50, toast: 60 등). 또는 Tailwind config에서 관리.","status":"open","priority":2,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T16:39:10.998538+09:00","created_by":"jykim","updated_at":"2026-02-20T16:39:10.998538+09:00","labels":["editor","ui"]}
{"id":"cuggu-653a","title":"응답 포맷 이중화 — Admin vs AI route","description":"Admin 11개 route: withErrorHandler + successResponse/errorResponse. AI 16개 route: 직접 NextResponse.json. 성공 응답도 { success: true, data } vs raw 객체 혼재. AI route에도 withErrorHandler 적용, 응답 포맷 통일.","status":"open","priority":1,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T16:26:34.222619+09:00","created_by":"jykim","updated_at":"2026-02-20T16:26:34.222619+09:00"}
{"id":"cuggu-66m","title":"DB 커넥션 풀링 적용 (Supabase Pooler)","description":"db/index.ts에서 커넥션 풀 max/idle 미설정. prepare: false만 있고 Supabase Pooler(PgBouncer) 미적용. Vercel Serverless + Supabase free tier(~20 커넥션) 조합에서 트래픽 증가 시 커넥션 고갈 예상.","status":"closed","priority":1,"issue_type":"bug","owner":"jiyk1308@solbox.com","created_at":"2026-02-10T17:12:54.527782+09:00","created_by":"jykim","updated_at":"2026-02-10T17:28:41.591153+09:00","closed_at":"2026-02-10T17:28:41.591153+09:00","close_reason":"Supabase Pooler는 이미 적용 상태(6543 포트). 클라이언트 사이드 max=3, idle_timeout=20, connect_timeout=10 추가."}
{"id":"cuggu-6a17","title":"BasicInfoTab 신랑/신부 섹션 코드 중복","description":"components/editor/BasicInfoTab.tsx:260-315 — 신랑/신부 입력 블록(이름, 가족 표기, 부모 이름, 故 체크, 관계, 연락처)이 동일한 JSX 반복. PersonSection 컴포넌트 추출.","status":"open","priority":2,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T16:26:57.531792+09:00","created_by":"jykim","updated_at":"2026-02-20T16:26:57.531792+09:00"}
{"id":"cuggu-6b1","title":"AIPhotoUploader 컴포넌트 구현","description":"이미지 업로드 컴포넌트 구현 (드래그 앤 드롭 + 파일 선택)\n\n## 파일 위치\n- `app/dashboard/ai-photos/components/AIPhotoUploader.tsx`\n\n## Props\n```typescript\ninterface AIPhotoUploaderProps {\n  role: 'GROOM' | 'BRIDE';\n  image: File | null;\n  onImageChange: (file: File | null) =\u003e void;\n  disabled?: boolean;\n}\n```\n\n## 기능\n- 드래그 앤 드롭 영역\n- 파일 선택 버튼\n- 이미지 미리보기\n- 용량 표시 (예: 2.4 MB / 10 MB)\n- 제거 버튼\n- 10MB 제한\n\n## 참고\n- docs/ai-photo-frontend-plan.md 섹션 5.1","status":"closed","priority":1,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-04T20:31:24.736102+09:00","created_by":"jykim","updated_at":"2026-02-04T20:37:04.022722+09:00","closed_at":"2026-02-04T20:37:04.022722+09:00","close_reason":"Closed"}
{"id":"cuggu-6c2","title":"Figma 템플릿 디자인 (디자이너)","description":"5개 템플릿 Figma 디자인: 클래식, 모던, 빈티지, 플로럴, 미니멀. AI 사진 영역 구획, 모바일 우선, 컴포넌트 분리 (헤더/본문/푸터), 디자인 시스템 정의 (색상/폰트/간격)","status":"closed","priority":0,"issue_type":"task","created_at":"2026-02-03T14:57:38.753264+09:00","created_by":"jyk","updated_at":"2026-02-19T14:49:19.850722+09:00","closed_at":"2026-02-19T14:49:19.850722+09:00","close_reason":"6개 템플릿(Classic/Modern/Elegant/Floral/Minimal/Natural) 코드 구현 완료. 디자인 반영됨","labels":["design","figma"]}
{"id":"cuggu-6h7","title":"에디터 GalleryTab AI 섹션 제거 → CTA 카드 교체","description":"GalleryTab에서 AIPhotoSection 임베딩 제거. 대신 'AI 포토 스튜디오 열기' CTA 카드로 교체. AIPhotoSection.tsx, AIPhotoGenerator.tsx 삭제. 일반 사진 업로드는 유지.","status":"closed","priority":2,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-11T20:57:36.844112+09:00","created_by":"jykim","updated_at":"2026-02-19T14:38:42.87637+09:00","closed_at":"2026-02-19T14:38:42.87637+09:00","close_reason":"부모 이슈(cuggu-r82)에서 함께 완료","dependencies":[{"issue_id":"cuggu-6h7","depends_on_id":"cuggu-5t9","type":"blocks","created_at":"2026-02-11T20:57:42.967529+09:00","created_by":"jykim"},{"issue_id":"cuggu-6h7","depends_on_id":"cuggu-r82","type":"blocks","created_at":"2026-02-13T15:51:19.475284+09:00","created_by":"jykim"}]}
{"id":"cuggu-6id","title":"미리보기 페이지 뷰 모드 선택기 (Desktop/Mobile/Phone)","status":"closed","priority":1,"issue_type":"feature","owner":"jiyk1308@solbox.com","created_at":"2026-02-09T14:18:10.59259+09:00","created_by":"jykim","updated_at":"2026-02-09T14:18:14.968087+09:00","closed_at":"2026-02-09T14:18:14.968087+09:00","close_reason":"PhoneFrame/PreviewViewport/getTemplateComponent 공통 추출, /preview/[id] 라우트 생성, PreviewPanel·InvitationView 리팩터 완료 (6fd15bf)"}
{"id":"cuggu-6oh","title":"발행 전 실시간 필드 검증","description":"## 배경\n발행 버튼 누를 때만 필수값 검증. 편집 중 피드백 없음.\n사용자 감정 곡선 급락 지점 (\"진작 알려주지...\")\n\n## 범위\n- 사이드바 탭 상태 뱃지 실시간 갱신\n- 필수 필드 미입력 시 빨간 테두리 + 인라인 메시지\n- 발행 버튼에 완료율 표시 또는 미완료 시 비활성\n\n## 주요 파일\n- components/editor/TopBar.tsx (발행 검증 로직)\n- components/editor/SectionPanel.tsx (탭 상태 뱃지)\n- components/editor/tabs/BasicInfoTab.tsx\n- components/editor/tabs/VenueTab.tsx\n\n## 참고\n- docs/diary/2026-02-10_improvement-priority-roadmap.md","status":"closed","priority":1,"issue_type":"feature","owner":"jiyk1308@solbox.com","created_at":"2026-02-10T11:42:27.743844+09:00","created_by":"jykim","updated_at":"2026-02-11T09:56:31.52014+09:00","closed_at":"2026-02-11T09:56:31.520142+09:00"}
{"id":"cuggu-6uie","title":"[대시보드] AI Photos 페이지 double container/padding","description":"파일: ai-photos/page.tsx, [albumId]/page.tsx\n문제: 대시보드 layout이 이미 container + padding을 적용하는데, AI Photos 페이지가 자체적으로도 container + padding을 추가. 이중 패딩으로 콘텐츠 영역이 좁아짐.\n수정 방향: 페이지 레벨 container/padding 제거, layout의 것만 사용. 또는 layout 패딩을 opt-out할 수 있는 구조로 변경.","status":"open","priority":1,"issue_type":"bug","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T16:38:31.889683+09:00","created_by":"jykim","updated_at":"2026-02-20T16:38:31.889683+09:00","labels":["dashboard","ui"]}
{"id":"cuggu-6z0p","title":"Zustand selector 미사용 — 에디터 렌더링 폭발","description":"에디터 탭 8개 전체가 스토어 전체 구독. isSaving/lastSaved/validationResult 등 하나라도 바뀌면 모든 탭 리렌더링. 키 입력 1회당 최대 24번 불필요한 렌더링. selector 도입으로 80% 감소 가능.","status":"open","priority":1,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T16:25:52.954894+09:00","created_by":"jykim","updated_at":"2026-02-20T16:25:52.954894+09:00"}
{"id":"cuggu-6zb","title":"에러 케이스 테스트","description":"다양한 에러 상황에 대한 핸들링 및 메시지 테스트\n\n## 테스트 케이스\n\n### 1. 크레딧 부족\n- 크레딧 0일 때 생성 시도\n- 예상: \"크레딧이 부족합니다\" 메시지 + 결제 링크\n\n### 2. 얼굴 감지 실패\n- 얼굴 없는 사진 업로드\n- 예상: \"얼굴이 감지되지 않았습니다\" 메시지\n\n### 3. 여러 얼굴 감지\n- 2명 이상의 얼굴이 있는 사진\n- 예상: \"1명의 얼굴만 업로드해주세요\" 메시지\n\n### 4. 파일 크기 초과\n- 11MB 이상 파일\n- 예상: \"파일 크기는 10MB 이하여야 합니다\" 메시지\n\n### 5. Rate Limiting\n- 5회 연속 요청\n- 예상: 429 에러 + \"잠시 후 다시 시도해주세요\" 메시지\n\n### 6. 네트워크 에러\n- API 타임아웃 시뮬레이션\n- 예상: \"생성 중 오류가 발생했습니다\" + 재시도 버튼\n\n## 참고\n- docs/ai-photo-frontend-plan.md 섹션 7.1, 10.2","status":"open","priority":2,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-04T20:32:02.158747+09:00","created_by":"jykim","updated_at":"2026-02-04T20:32:02.158747+09:00"}
{"id":"cuggu-70d","title":"바이럴 CTA 강화 (공개 페이지 하단)","description":"## 배경\n공개 페이지 하단 \"Cuggu\" 텍스트 링크만. CTA 약하고 클릭 추적 없음.\n\n## 범위\n- 하단 CTA: \"나도 이렇게 예쁜 청첩장 만들기 →\" (텍스트→버튼)\n- UTM 파라미터 자동 부착 (?ref=invitation\u0026id=xxx)\n- 클릭 이벤트 분석 도구 연동\n\n## 주요 파일\n- components/templates/sections/FooterSection.tsx\n\n## 참고\n- docs/diary/2026-02-10_improvement-priority-roadmap.md","notes":"[로드맵 리뷰] P2→P1 승격. 공개 페이지 하단 '나도 만들기' CTA = 유일한 바이럴 루프. 0원 CAC.","status":"closed","priority":1,"issue_type":"feature","owner":"jiyk1308@solbox.com","created_at":"2026-02-10T11:42:40.048356+09:00","created_by":"jykim","updated_at":"2026-02-10T18:21:26.318103+09:00","closed_at":"2026-02-10T18:21:26.318103+09:00","close_reason":"FooterSection에 바이럴 CTA 버튼 추가 (UTM + data-event 속성 포함)"}
{"id":"cuggu-70p","title":"Phase 0: DB 스키마 확장 (role, isFavorited, modelId)","status":"closed","priority":1,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-11T22:19:51.978482+09:00","created_by":"jykim","updated_at":"2026-02-11T22:20:40.033014+09:00","closed_at":"2026-02-11T22:20:40.033014+09:00","close_reason":"schema.ts에 role, isFavorited, modelId 추가 + migration SQL + stream API에서 저장"}
{"id":"cuggu-7b9","title":"API route: POST DB 저장 + GET/DELETE 핸들러","description":"POST에서 aiThemes에 insert, usage/cost 저장. GET으로 목록 조회, DELETE로 삭제. safelist 실패해도 저장","status":"closed","priority":1,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-09T16:26:34.944591+09:00","created_by":"jykim","updated_at":"2026-02-09T16:30:25.761854+09:00","closed_at":"2026-02-09T16:30:25.761854+09:00","close_reason":"POST에 DB insert/usage/cost 저장, safelist 실패해도 저장, GET/DELETE 핸들러 추가","dependencies":[{"issue_id":"cuggu-7b9","depends_on_id":"cuggu-hay","type":"blocks","created_at":"2026-02-09T16:27:00.645972+09:00","created_by":"jykim"},{"issue_id":"cuggu-7b9","depends_on_id":"cuggu-q21","type":"parent-child","created_at":"2026-02-09T16:27:20.956487+09:00","created_by":"jykim"}]}
{"id":"cuggu-7biu","title":"[공개뷰] GalleryFilmstrip -mx-6 하드코딩, Modern px-8과 불일치","description":"파일: GalleryFilmstrip.tsx:13\n문제: 필름스트립이 -mx-6으로 좌우 확장하지만 Modern 테마는 px-8 패딩 사용. 2px 차이로 좌우 끝이 안 맞음.\n수정 방향: 테마의 sectionPadding 값을 참조하여 동적으로 negative margin 계산. 또는 CSS calc() 사용.","status":"open","priority":3,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T16:39:40.792351+09:00","created_by":"jykim","updated_at":"2026-02-20T16:39:40.792351+09:00","labels":["ui"]}
{"id":"cuggu-7m8","title":"공개 청첩장 RSVP 하객 폼 구현","description":"에디터 RsvpTab에서 RSVP 설정은 가능하나, 공개 페이지(inv/[id])에 실제 하객용 참석 여부 제출 폼이 없음. 에디터에서 활성화해도 공개 페이지에 아무것도 표시되지 않는 유령 기능 상태.","status":"closed","priority":1,"issue_type":"feature","owner":"jiyk1308@solbox.com","created_at":"2026-02-10T17:12:57.731528+09:00","created_by":"jykim","updated_at":"2026-02-13T10:41:28.20541+09:00","closed_at":"2026-02-13T10:41:28.20541+09:00","close_reason":"코드 확인 결과 이미 구현 완료. RsvpSectionWrapper → RSVPSection → RSVPForm 체인 동작 중. POST /api/invitations/[id]/rsvp API도 rate limiting + 암호화 포함 완성 상태. 이슈 생성(2/10) 이후 구현된 것으로 보임."}
{"id":"cuggu-7to","title":"베타 테스트 및 버그 수정","description":"50명 베타 테스터 모집, 피드백 수집 (AI 사진 품질, 편집기 UX, 템플릿 디자인), 버그 수정","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-03T14:35:03.338715+09:00","created_by":"jyk","updated_at":"2026-02-03T14:35:03.338715+09:00","labels":["testing"]}
{"id":"cuggu-7ygb","title":"[공개뷰] PremiumToggle dev 컴포넌트 프로덕션 노출 가능","description":"파일: InvitationView.tsx:35\n문제: PremiumToggle이 NODE_ENV 체크 없이 렌더링됨. 프로덕션에서 프리미엄 토글이 노출되면 결제 없이 프리미엄 기능 사용 가능.\n수정 방향: process.env.NODE_ENV === 'development' 조건 추가하거나, 컴포넌트 자체를 dev-only 래퍼로 감싸기.","status":"open","priority":1,"issue_type":"bug","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T16:38:03.185967+09:00","created_by":"jykim","updated_at":"2026-02-20T16:38:03.185967+09:00","labels":["security","ui"]}
{"id":"cuggu-88q","title":"주요 API Rate limit 적용","status":"closed","priority":1,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-14T17:12:25.112626+09:00","created_by":"jykim","updated_at":"2026-02-14T17:16:04.466471+09:00","closed_at":"2026-02-14T17:16:04.466471+09:00","close_reason":"proxy.ts에 인증된 API 글로벌 rate limit 추가 (유저당 60 req/min). matcher를 전체 경로로 확장."}
{"id":"cuggu-8bw","title":"보안 강화","description":"HTTPS 강제, Rate limiting (Upstash), 피싱 방지, 개인정보 암호화, 자동 삭제 스케줄러","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-03T14:34:52.007533+09:00","created_by":"jyk","updated_at":"2026-02-09T14:13:35.189876+09:00","closed_at":"2026-02-09T14:13:35.189876+09:00","close_reason":"보안 헤더, Rate Limiting, AES-256-GCM 개인정보 암호화, Vercel Cron 자동 삭제 구현 완료","labels":["backend","security"]}
{"id":"cuggu-8lb","title":"소셜 로그인 확장 (네이버/구글)","description":"현재 카카오만 지원. 네이버, 구글 OAuth 추가. 참고: docs/diary/2026-02-03_nextauth-drizzle-setup.md","notes":"[로드맵 리뷰] P3→P4. 카카오만으로 한국 시장 90% 커버.","status":"closed","priority":4,"issue_type":"feature","owner":"jiyk1308@solbox.com","created_at":"2026-02-10T14:37:54.634812+09:00","created_by":"jykim","updated_at":"2026-02-19T14:49:09.352343+09:00","closed_at":"2026-02-19T14:49:09.352343+09:00","close_reason":"cuggu-9ew(네이버 P2)과 중복. 구글은 필요 시 별도 이슈 생성"}
{"id":"cuggu-8ou","title":"[Phase 4] StyleSelector 멀티셀렉트 확장","description":"app/dashboard/ai-photos/components/StyleSelector.tsx에 multiSelect?, selectedStyles?, onStylesChange? props 추가. 하위 호환: multiSelect 없으면 기존 단일 선택 유지.","status":"closed","priority":1,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-12T18:04:27.846956+09:00","created_by":"jykim","updated_at":"2026-02-12T18:17:28.080724+09:00","closed_at":"2026-02-12T18:17:28.080724+09:00","close_reason":"Closed","dependencies":[{"issue_id":"cuggu-8ou","depends_on_id":"cuggu-w70","type":"blocks","created_at":"2026-02-12T18:05:07.378603+09:00","created_by":"jykim"}]}
{"id":"cuggu-8pk","title":"갤러리 매저너리 레이아웃","description":"핀터레스트 스타일 매저너리 레이아웃. CSS columns 사용(JS 불필요), 사진 비율 유지. settings.galleryLayout에 masonry 옵션 추가. 업로드 시 width/height 메타데이터 저장.","status":"open","priority":3,"issue_type":"feature","owner":"jiyk1308@solbox.com","created_at":"2026-02-09T11:27:26.343628+09:00","created_by":"jykim","updated_at":"2026-02-09T11:27:26.343628+09:00"}
{"id":"cuggu-8vc","title":"결제 시스템 (Toss Payments)","description":"Toss Payments API 연동, 프리미엄 플랜 구매 (9,900원), AI 크레딧 추가 구매, 결제 내역 관리","status":"closed","priority":3,"issue_type":"task","created_at":"2026-02-03T14:34:48.411726+09:00","created_by":"jyk","updated_at":"2026-02-13T16:40:27.862719+09:00","closed_at":"2026-02-13T16:40:27.862719+09:00","close_reason":"Toss → PortOne V2 + 네이버페이로 변경. 새 이슈로 대체","labels":["backend","payment"]}
{"id":"cuggu-8vd","title":"에디터 스토어 Invitation 타입 수정","description":"stores/invitation-editor.ts의 type Invitation = any를 실제 타입으로 교체.","status":"closed","priority":1,"issue_type":"bug","owner":"jiyk1308@solbox.com","created_at":"2026-02-14T17:09:17.070123+09:00","created_by":"jykim","updated_at":"2026-02-14T17:10:38.193124+09:00","closed_at":"2026-02-14T17:10:38.193124+09:00","close_reason":"atomic SQL 연산, CSP 헤더, 타입 수정 완료"}
{"id":"cuggu-8wd","title":"TemplateTab UI: 내 테마 라이브러리 섹션","description":"에디터 TemplateTab에 테마 라이브러리 목록. 적용/삭제/상태 표시. safelist_failed 경고","status":"closed","priority":1,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-09T16:26:37.939974+09:00","created_by":"jykim","updated_at":"2026-02-09T16:32:49.404746+09:00","closed_at":"2026-02-09T16:32:49.404746+09:00","close_reason":"테마 라이브러리 섹션 추가 — 목록 fetch, 적용/삭제, 상태 표시, safelist_failed 경고","dependencies":[{"issue_id":"cuggu-8wd","depends_on_id":"cuggu-7b9","type":"blocks","created_at":"2026-02-09T16:27:03.12669+09:00","created_by":"jykim"},{"issue_id":"cuggu-8wd","depends_on_id":"cuggu-q21","type":"parent-child","created_at":"2026-02-09T16:27:20.994048+09:00","created_by":"jykim"}]}
{"id":"cuggu-8z9j","title":"Redis del + DB update 비원자적 — 뷰 카운트 유실 가능","description":"lib/invitation-cache.ts:130-135 — Redis del 후 DB update. 사이에 프로세스 죽으면 50개 뷰 카운트 유실. DB flush 성공 후 Redis del 순서로 변경.","status":"open","priority":2,"issue_type":"bug","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T16:27:10.20087+09:00","created_by":"jykim","updated_at":"2026-02-20T16:27:10.20087+09:00"}
{"id":"cuggu-91r8","title":"templates.config가 text (다른 JSON 데이터는 jsonb)","description":"db/schema.ts:158 — templates 테이블의 config 컬럼이 text 타입. 다른 JSON 데이터는 jsonb 사용. 일관성 위해 jsonb 전환 검토.","status":"open","priority":3,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T16:27:10.528869+09:00","created_by":"jykim","updated_at":"2026-02-20T16:27:10.528869+09:00"}
{"id":"cuggu-97k","title":"[결제] 스마트스토어 Commerce API 클라이언트","description":"lib/payments/smartstore.ts: OAuth 2.0 인증 (bcrypt signature→base64), getAccessToken() 캐싱, verifyOrder() 주문조회+PAYED확인, dispatchOrder() 발송처리, mapProductToPaymentType() 상품코드→PaymentType. 참고: docs/payment-flow-design.md §4,6","status":"closed","priority":2,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-13T16:40:59.504781+09:00","created_by":"jykim","updated_at":"2026-02-19T15:23:17.2353+09:00","closed_at":"2026-02-19T15:23:17.2353+09:00","close_reason":"스마트스토어 결제 연동 구현 완료. 네이버 로그인은 이미 auth.ts에 구현되어 있어 별도 작업 불필요.","labels":["backend","payment"]}
{"id":"cuggu-9ain","title":"DDayWidget setInterval 드리프트 + 백그라운드 탭 낭비","description":"components/templates/sections/DDayWidget.tsx:135 — Page Visibility API로 숨겨진 탭에서 중지 권장.","status":"open","priority":3,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T16:27:24.126624+09:00","created_by":"jykim","updated_at":"2026-02-20T16:27:24.126624+09:00"}
{"id":"cuggu-9c0","title":"배치 Job 완료 시 미사용 크레딧 자동 환불 누락","description":"배치 Job에서 일부 이미지 생성 실패 시, 유저가 직접 Job을 취소해야만 releaseCredits가 호출됨. Job이 자연 완료(COMPLETED/PARTIAL)되는 경우 creditsReserved - creditsUsed 차이만큼 자동 환불하는 로직이 없어서 크레딧이 그대로 차감된 상태로 남는 버그. 수정 위치: Job 완료 처리 로직(stream route의 job status 업데이트 부분)에서 모든 task 완료 시 미사용분 releaseCredits 호출 추가 필요.","status":"closed","priority":2,"issue_type":"bug","owner":"jiyk1308@solbox.com","created_at":"2026-02-13T15:16:19.835638+09:00","created_by":"jykim","updated_at":"2026-02-19T14:08:47.277155+09:00","closed_at":"2026-02-19T14:08:47.277155+09:00","close_reason":"이미 구현됨 — stream route에서 모든 task 완료/실패 시 releaseCredits 호출, stale-jobs cron에서도 자동 환불 처리"}
{"id":"cuggu-9ci","title":"템플릿 4개 동적 섹션 렌더링 적용","description":"ClassicTemplate, ModernTemplate, FloralTemplate, MinimalTemplate에 동적 섹션 렌더링 패턴 적용. Modern/Minimal은 디바이더 처리 포함.","status":"closed","priority":2,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-05T13:37:20.360957+09:00","created_by":"jykim","updated_at":"2026-02-05T13:59:26.839381+09:00","closed_at":"2026-02-05T13:59:26.839381+09:00","close_reason":"ClassicTemplate, ModernTemplate, FloralTemplate, MinimalTemplate 모두 동적 섹션 렌더링 패턴 적용 완료","dependencies":[{"issue_id":"cuggu-9ci","depends_on_id":"cuggu-3ha","type":"blocks","created_at":"2026-02-05T13:37:24.177285+09:00","created_by":"jykim"}]}
{"id":"cuggu-9ck","title":"발행 성공 공유 모달","description":"## 배경\n발행 시 토스트 한 줄 + 링크 복사만. 가장 설레는 순간을 토스트로 끝냄.\n카카오톡 공유 동선이 3단계 (링크복사→브라우저→카톡).\n\n## 범위\n- 발행 성공 모달: 축하 메시지 + 청첩장 미리보기 썸네일\n- 공유 옵션: 카카오톡 / 링크복사 / 네이티브공유 버튼 한 화면에\n- 공유 메시지 템플릿: \"저희 결혼합니다!\" 기본 포함\n\n## 의존성\n- cuggu-jl6 (카카오톡 SDK 공유) 완료 후\n\n## 참고\n- docs/diary/2026-02-10_improvement-priority-roadmap.md","status":"closed","priority":1,"issue_type":"feature","owner":"jiyk1308@solbox.com","created_at":"2026-02-10T11:42:36.741621+09:00","created_by":"jykim","updated_at":"2026-02-10T18:13:48.812587+09:00","closed_at":"2026-02-10T18:13:48.812587+09:00","close_reason":"ShareModal 컴포넌트 신규 생성, TopBar 발행/공유 로직 모달 연동 완료","dependencies":[{"issue_id":"cuggu-9ck","depends_on_id":"cuggu-jl6","type":"blocks","created_at":"2026-02-10T11:42:54.027903+09:00","created_by":"jykim"}]}
{"id":"cuggu-9e7","title":"분석 도구 도입 (GA4 or PostHog)","description":"## 배경\n다중 역할 리뷰에서 PM/그로스 양쪽 모두 지적. 퍼널 데이터 수집 불가 상태.\nGA, Mixpanel, PostHog 전무. 어디서 이탈하는지 모름.\n\n## 범위\n- PostHog 추천 (퍼널 + 세션 리플레이 무료 티어)\n- 핵심 이벤트 정의: 가입, 첫 생성, 탭 전환, AI 생성, 발행, 공유, 하객 열람, RSVP\n- 공개 페이지 viewCount 대체할 유니크 방문자 추적\n- 에디터 탭별 체류 시간, 이탈 지점 추적\n\n## 참고\n- docs/diary/2026-02-10_improvement-priority-roadmap.md","status":"closed","priority":0,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-10T11:42:13.217439+09:00","created_by":"jykim","updated_at":"2026-02-10T15:52:38.3981+09:00","closed_at":"2026-02-10T15:52:38.3981+09:00","close_reason":"PostHog 클라이언트 통합 완료. 핵심 이벤트 추적 코드 삽입 (발행/공유/열람/AI생성/탭체류). feature/posthog-analytics 브랜치에 커밋됨. PostHog 가입 후 API key 설정 필요."}
{"id":"cuggu-9ew","title":"[인증] 네이버 로그인 추가 (NextAuth provider)","description":"NextAuth.js v5에 네이버 로그인 provider 추가. 현재 카카오만 있음. 스마트스토어 연동과 별도이지만 UX 개선에 필요. 네이버 개발자센터에서 앱 등록 필요.","status":"closed","priority":2,"issue_type":"feature","owner":"jiyk1308@solbox.com","created_at":"2026-02-13T16:41:05.119649+09:00","created_by":"jykim","updated_at":"2026-02-19T15:23:17.25781+09:00","closed_at":"2026-02-19T15:23:17.25781+09:00","close_reason":"스마트스토어 결제 연동 구현 완료. 네이버 로그인은 이미 auth.ts에 구현되어 있어 별도 작업 불필요.","labels":["auth","backend"]}
{"id":"cuggu-9ik","title":"DB 매핑에 sectionOrder 추가","description":"lib/invitation-utils.ts의 dbRecordToInvitation 함수에 sectionOrder 매핑 1줄 추가.","status":"closed","priority":2,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-05T13:37:16.747952+09:00","created_by":"jykim","updated_at":"2026-02-05T13:54:26.915488+09:00","closed_at":"2026-02-05T13:54:26.915488+09:00","close_reason":"dbRecordToInvitation에 sectionOrder 매핑 추가","dependencies":[{"issue_id":"cuggu-9ik","depends_on_id":"cuggu-3ha","type":"blocks","created_at":"2026-02-05T13:37:24.089711+09:00","created_by":"jykim"}]}
{"id":"cuggu-9sz","title":"[Phase 3] Job API — POST/GET /api/ai/jobs","description":"app/api/ai/jobs/route.ts POST: 참조 사진 확인→크레딧 계산→reserveCredits→Job 생성→태스크 리스트 반환. app/api/ai/jobs/[id]/route.ts GET: Job 상태+하위 generations. Phase 0+1+2 완료 후 가능.","status":"closed","priority":1,"issue_type":"feature","owner":"jiyk1308@solbox.com","created_at":"2026-02-12T18:04:05.773096+09:00","created_by":"jykim","updated_at":"2026-02-12T18:16:04.123348+09:00","closed_at":"2026-02-12T18:16:04.123348+09:00","close_reason":"Closed","dependencies":[{"issue_id":"cuggu-9sz","depends_on_id":"cuggu-4a1","type":"blocks","created_at":"2026-02-12T18:05:07.046453+09:00","created_by":"jykim"},{"issue_id":"cuggu-9sz","depends_on_id":"cuggu-au9","type":"blocks","created_at":"2026-02-12T18:05:07.114668+09:00","created_by":"jykim"}]}
{"id":"cuggu-9t6","title":"Figma 스타일 청첩장 편집기 구현","description":"실시간 미리보기 통합 청첩장 편집기 (/dashboard/invitations/[id]/edit)\n\n레이아웃 (3-패널):\n- 좌측: 탭 메뉴 (템플릿/정보/예식/인사말/갤러리/계좌/설정)\n- 중앙: 편집 폼\n- 우측: 실시간 미리보기 (모바일/데스크톱 전환, 줌)\n\n핵심 기능:\n- TopBar (자동 저장 상태, 미리보기, 공유 버튼)\n- Sidebar (탭 메뉴, 완료 상태 표시)\n- EditorPanel (탭별 폼 컴포넌트)\n- PreviewPanel (실시간 템플릿 렌더링)\n- Zustand 상태 관리\n- 자동 저장 (2초 debounce)\n- 검증 로직\n- 반응형 처리\n\n컴포넌트:\n- TopBar, Sidebar, EditorPanel, PreviewPanel\n- 7개 탭 컴포넌트 (Template/BasicInfo/Venue/Greeting/Gallery/Account/Settings)\n\n참고: docs/invitation-creation-plan.md (Figma 스타일)","status":"closed","priority":1,"issue_type":"feature","owner":"jiyk1308@solbox.com","created_at":"2026-02-04T11:56:07.202398+09:00","created_by":"jykim","updated_at":"2026-02-11T19:58:04.765498+09:00","closed_at":"2026-02-11T19:58:04.765498+09:00","close_reason":"3패널 레이아웃, TopBar, Sidebar, EditorPanel, PreviewPanel, 7개 탭, Zustand 상태관리, 자동저장, 검증 로직 전부 구현 완료. 반응형은 cuggu-iji로 분리 추적.","dependencies":[{"issue_id":"cuggu-9t6","depends_on_id":"cuggu-ave","type":"blocks","created_at":"2026-02-04T11:56:19.911053+09:00","created_by":"jykim"}]}
{"id":"cuggu-9u0r","title":"대시보드 전체 use client — Server Components 미활용","description":"16개 대시보드 페이지가 모두 use client + useEffect + fetch 패턴. 초기 HTML이 빈 로딩 스피너 → LCP 나쁨. 서버 컴포넌트로 데이터 fetch 후 클라이언트 컴포넌트에 props 전달하는 패턴으로 전환 필요.","status":"open","priority":1,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T16:25:57.046164+09:00","created_by":"jykim","updated_at":"2026-02-20T16:25:57.046164+09:00"}
{"id":"cuggu-9x83","title":"TemplateTab JSON.stringify 비교 — 렌더링마다 N+1번 직렬화","description":"components/editor/tabs/TemplateTab.tsx:462-463 — 테마 N개일 때 렌더링마다 N+1번 JSON.stringify. 에디터 키 입력마다 실행. 적용 시 테마 ID를 스토어에 저장, 비교는 ID로 변경 필요.","status":"open","priority":1,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T16:26:09.95698+09:00","created_by":"jykim","updated_at":"2026-02-20T16:26:09.95698+09:00"}
{"id":"cuggu-9xi","title":"NextAuth sessions 테이블 분리 (Supabase Auth 충돌 해결)","description":"## 문제\nDrizzle 마이그레이션 시 sessions 테이블이 NextAuth와 Supabase Auth 간 충돌 발생.\n실제 DB에는 Supabase Auth의 18개 컬럼이 있고, Drizzle 스키마는 NextAuth용 3개 컬럼만 정의.\n\n## 현재 상태\n- users 테이블만 마이그레이션 완료 (email_notifications 추가)\n- sessions 테이블은 Supabase Auth 사용 (NextAuth 호환)\n- 동작은 정상이지만 스키마 불일치\n\n## 해결 방안\n1. nextauth_sessions 테이블로 분리 (추천)\n2. 기존 데이터 마이그레이션\n3. NextAuth adapter 설정 변경\n\n## 관련 문서\ndocs/issues/nextauth-supabase-sessions-conflict.md","notes":"[로드맵 리뷰] P2→P1 승격. Tech Architect: Supabase Auth와 sessions 테이블 충돌 시 인증 전체 깨짐. 시한폭탄.","status":"open","priority":1,"issue_type":"bug","owner":"jiyk1308@solbox.com","created_at":"2026-02-04T18:05:07.609063+09:00","created_by":"jykim","updated_at":"2026-02-10T17:13:09.499247+09:00"}
{"id":"cuggu-a1e","title":"AI 생성 시스템 코드 리뷰 이슈 수정","notes":"code-reviewer 에이전트가 발견한 이슈 수정\n\n## 크리티컬 이슈 (5개) - P0\n1. credits.ts - Race condition (WHERE 조건 추가)\n2. s3.ts - ACL public-read 제거 (보안)\n3. replicate.ts - replicateId 하드코딩 수정\n4. generate/route.ts - Style 타입 검증 (Zod)\n5. face-detection.ts - Azure 에러 처리 개선\n\n## 중요 이슈 (5개) - P1\n6. rate-limit.ts - Lua 스크립트로 원자성\n7. generate/route.ts - 파일 시그니처 검증\n8. 환경 변수 Zod 검증 (lib/ai/env.ts)\n9. generate/route.ts - S3 실패 이력 저장\n10. replicate.ts - 비용 계산 상수화\n\n## 개선 제안 (6개) - P2\n11. 중복 사용자 조회 제거\n12. 매직 넘버 상수화 (constants.ts)\n13. 트랜잭션 사용\n14. 구조화된 로깅\n15. Replicate Webhook (나중에)\n16. 이미지 압축 (나중에)\n\n총 16개 수정사항","status":"closed","priority":0,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-04T19:34:06.145722+09:00","created_by":"jykim","updated_at":"2026-02-04T20:09:44.932854+09:00","closed_at":"2026-02-04T20:09:44.932854+09:00","close_reason":"Mock 테스트로 AI 사진 생성 시스템 검증 완료. 38개 테스트 전부 통과 (API 통합 14 + 크레딧 14 + invitations 10)"}
{"id":"cuggu-a2w","title":"[보안] Credentials 프로바이더 비활성화 또는 bcrypt 구현","description":"auth.ts의 Credentials 프로바이더에서 비밀번호 검증(bcrypt 비교)이 주석 처리되어 있음. 현재 이메일만 알면 누구나 로그인 가능한 상태. 프로바이더 비활성화하거나 bcrypt 구현 완료 필요.","status":"closed","priority":0,"issue_type":"bug","owner":"jiyk1308@solbox.com","created_at":"2026-02-10T17:12:51.497311+09:00","created_by":"jykim","updated_at":"2026-02-10T17:15:41.494366+09:00","closed_at":"2026-02-10T17:15:41.494366+09:00","close_reason":"Credentials 프로바이더 통째로 제거. import, provider 등록, signIn 콜백 분기 모두 정리. 이메일 로그인 필요 시 bcrypt 구현 후 재활성화."}
{"id":"cuggu-a5f","title":"GenerationProgress 컴포넌트 구현","description":"AI 사진 생성 중 진행 상태 표시 컴포넌트\n\n## 파일 위치\n- `app/dashboard/ai-photos/components/GenerationProgress.tsx`\n\n## Props\n```typescript\ninterface GenerationProgressProps {\n  role: 'GROOM' | 'BRIDE';\n  style: AIStyle;\n  isGenerating: boolean;\n}\n```\n\n## UI 요소\n- 스피너 애니메이션\n- \"신랑/신부 AI 사진 생성 중...\"\n- \"클래식 스타일로 4장의 사진을 만들고 있습니다\"\n- \"예상 소요 시간: 20-40초\"\n- 진행 바 (Framer Motion)\n\n## 참고\n- docs/ai-photo-frontend-plan.md 섹션 4.3","status":"closed","priority":1,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-04T20:31:33.930871+09:00","created_by":"jykim","updated_at":"2026-02-04T20:37:33.067624+09:00","closed_at":"2026-02-04T20:37:33.067624+09:00","close_reason":"Closed"}
{"id":"cuggu-a5g","title":"UI: SnapTypeSelector + AlbumOnboarding + AlbumDashboard + AlbumCuration","status":"closed","priority":1,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-12T15:36:41.253547+09:00","created_by":"jykim","updated_at":"2026-02-12T15:45:03.270717+09:00","closed_at":"2026-02-12T15:45:03.270717+09:00","close_reason":"Closed","dependencies":[{"issue_id":"cuggu-a5g","depends_on_id":"cuggu-417","type":"blocks","created_at":"2026-02-12T15:36:47.319684+09:00","created_by":"jykim"},{"issue_id":"cuggu-a5g","depends_on_id":"cuggu-0us","type":"blocks","created_at":"2026-02-12T15:36:47.35871+09:00","created_by":"jykim"}]}
{"id":"cuggu-a5gz","title":"[공개뷰] Cover 이미지 로딩 placeholder/skeleton 없음","description":"파일: CoverSection.tsx:69\n문제: 커버 이미지 로딩 중 빈 공간만 표시됨. 이미지가 큰 경우 수 초간 빈 화면 → CLS + 사용자 이탈.\n수정 방향: next/image의 placeholder='blur' + blurDataURL 사용. 또는 shimmer skeleton 애니메이션.","status":"open","priority":2,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T16:38:58.410186+09:00","created_by":"jykim","updated_at":"2026-02-20T16:38:58.410186+09:00","labels":["ui","ux"]}
{"id":"cuggu-a5hw","title":"페이지네이션 스키마 중복 + 필드명 불일치","description":"schemas/common.ts는 pageSize, ai/generations/route.ts는 limit, admin routes는 pageSize 사용. PaginationQuerySchema를 extend해서 사용, 필드명 pageSize로 통일.","status":"open","priority":2,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T16:27:19.656837+09:00","created_by":"jykim","updated_at":"2026-02-20T16:27:19.656837+09:00"}
{"id":"cuggu-a6i6","title":"generateBatch 213줄 + SSE 파싱 로직 중복","description":"hooks/useAIGeneration.ts:141-353 — SSE 스트리밍 읽기 로직이 generateSingle(92-130)과 generateBatch(208-240)에서 거의 동일. readSSEStream() 함수 추출.","status":"open","priority":2,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T16:26:43.778227+09:00","created_by":"jykim","updated_at":"2026-02-20T16:26:43.778227+09:00"}
{"id":"cuggu-a85","title":"청첩장 만료 자동화 (Cron)","description":"## 배경\nexpiresAt 컬럼 있으나 상태를 EXPIRED로 변경하는 트리거 없음.\n\n## 범위\n- Vercel Cron 또는 API route 기반 daily check\n- expiresAt \u003c now() \u0026\u0026 status = PUBLISHED → status = EXPIRED\n- 만료 7일 전 이메일 알림 (emailNotifications 활용)\n\n## 주요 파일\n- db/schema.ts (expiresAt, status 컬럼)\n- app/inv/[id]/page.tsx (만료 상태 처리)\n\n## 참고\n- docs/diary/2026-02-10_improvement-priority-roadmap.md","status":"open","priority":2,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-10T11:42:49.888278+09:00","created_by":"jykim","updated_at":"2026-02-10T11:42:49.888278+09:00"}
{"id":"cuggu-abb","title":"청첩장에 적용하기 구현 (handleApplyToInvitation)","description":"AI Studio에서 선택한 사진을 청첩장 갤러리에 추가하는 플로우 구현. 청첩장 0개: 새 생성 유도, 1개(99%): 자동 적용 후 에디터 이동, 2개+: 선택 모달. GET /api/invitations + PUT /api/invitations/[id] 사용.","status":"closed","priority":1,"issue_type":"feature","owner":"jiyk1308@solbox.com","created_at":"2026-02-11T20:57:34.584378+09:00","created_by":"jykim","updated_at":"2026-02-11T22:26:37.738383+09:00","closed_at":"2026-02-11T22:26:37.738383+09:00","close_reason":"ApplyToInvitationModal + POST /api/ai/generations/apply로 구현 완료","dependencies":[{"issue_id":"cuggu-abb","depends_on_id":"cuggu-5t9","type":"blocks","created_at":"2026-02-11T20:57:42.928755+09:00","created_by":"jykim"}]}
{"id":"cuggu-acr","title":"동영상 임베드 (YouTube/Vimeo)","description":"YouTube/Vimeo URL 입력으로 프리웨딩/프러포즈 영상 임베드. URL 자동 감지(정규식), 반응형 iframe + loading=lazy. 직접 업로드는 Phase 3.","notes":"[로드맵 리뷰] P3→P4. 모바일 데이터 + 성능 이슈. 당분간 불필요.","status":"open","priority":4,"issue_type":"feature","owner":"jiyk1308@solbox.com","created_at":"2026-02-09T11:27:20.479609+09:00","created_by":"jykim","updated_at":"2026-02-10T17:13:28.486952+09:00"}
{"id":"cuggu-ae6","title":"[결제] DB 마이그레이션 — paymentMethod enum + channel 컬럼","description":"paymentMethodEnum: TOSS→NAVER_PAY 변경, paymentChannelEnum 신규 (SITE|SMARTSTORE), payments 테이블: paymentKey→paymentId rename + channel 컬럼 추가. Drizzle 마이그레이션 생성+적용. 참고: docs/payment-flow-design.md §2","status":"open","priority":1,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-13T16:40:34.913156+09:00","created_by":"jykim","updated_at":"2026-02-13T16:40:34.913156+09:00","labels":["backend","payment"]}
{"id":"cuggu-aktz","title":"Zustand 스토어 타이머 누수","description":"stores/invitation-editor.ts:46-47 — 모듈 스코프 autoSaveTimer/retryTimer가 에디터 페이지 이탈 시 cleanup 안됨. useEffect cleanup에서 reset() 호출 필요.","status":"open","priority":0,"issue_type":"bug","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T16:25:46.922509+09:00","created_by":"jykim","updated_at":"2026-02-20T16:25:46.922509+09:00"}
{"id":"cuggu-anuc","title":"[에디터] MobileGreetingTab 인사말 on/off 토글 누락 (데스크톱엔 있음)","description":"파일: MobileGreetingTab.tsx\n문제: 데스크톱 GreetingTab에는 인사말 섹션 표시/숨김 토글이 있지만 MobileGreetingTab에는 없음. 모바일에서 인사말을 끌 수 없음.\n수정 방향: MobileGreetingTab 상단에 동일한 토글 추가. 데스크톱과 동일한 스토어 필드 참조.","status":"open","priority":1,"issue_type":"bug","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T16:38:17.363497+09:00","created_by":"jykim","updated_at":"2026-02-20T16:38:17.363497+09:00","labels":["editor","mobile","ui"]}
{"id":"cuggu-ap1y","title":"RSVP 삭제 시 optimistic update + refetch 이중 처리","description":"app/(dashboard)/rsvp/page.tsx:89-90 — 삭제 성공 시 setRsvps(filter)로 optimistic 제거 후 바로 fetchRsvps로 refetch. refetch가 optimistic을 덮어씀. 둘 중 하나만 유지.","status":"open","priority":2,"issue_type":"bug","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T16:26:47.831129+09:00","created_by":"jykim","updated_at":"2026-02-20T16:26:47.831129+09:00"}
{"id":"cuggu-ass","title":"갤러리 S3 업로드 및 CloudFront 통합","description":"현재 handleImageUpload가 console.log만 찍는 상태. S3 갤러리 업로드, CloudFront CDN 연동, Sharp 이미지 최적화, AI 생성 이미지 S3 복사 구현 필요. 설계: docs/diary/2026-02-04_gallery-upload-planning.md","status":"closed","priority":2,"issue_type":"feature","owner":"jiyk1308@solbox.com","created_at":"2026-02-10T14:29:14.067846+09:00","created_by":"jykim","updated_at":"2026-02-19T14:49:06.833634+09:00","closed_at":"2026-02-19T14:49:06.833634+09:00","close_reason":"gallery S3 업로드 라우트(api/upload/gallery) + Sharp 최적화 구현 완료"}
{"id":"cuggu-atb","title":"[결제] API routes — create + complete","description":"POST /api/payments/create: 인증 확인, PaymentType 검증, 이미 프리미엄이면 409, PENDING 레코드 INSERT, orderId+amount+orderName 반환. POST /api/payments/complete: paymentId+orderId 수신, PortOne API 조회, 금액 검증, grantPaymentRewards() 호출. 참고: docs/payment-flow-design.md §3,6","status":"open","priority":1,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-13T16:40:46.581767+09:00","created_by":"jykim","updated_at":"2026-02-13T16:40:46.581767+09:00","labels":["backend","payment"],"dependencies":[{"issue_id":"cuggu-atb","depends_on_id":"cuggu-0jo","type":"blocks","created_at":"2026-02-13T16:41:10.191709+09:00","created_by":"jykim"}]}
{"id":"cuggu-au9","title":"[Phase 2] 크레딧 서비스 확장 — reserveCredits, releaseCredits, getCreditHistory","description":"lib/ai/credits.ts에 reserveCredits(userId,amount,jobId), releaseCredits(userId,amount,jobId), getCreditHistory(userId,limit?) 함수 추가. 기존 deductCredits/refundCredits 유지 (하위 호환). db.transaction() 사용 필수. Phase 0 스키마 완료 후 가능.","status":"closed","priority":1,"issue_type":"feature","owner":"jiyk1308@solbox.com","created_at":"2026-02-12T18:03:56.7646+09:00","created_by":"jykim","updated_at":"2026-02-12T18:13:52.100152+09:00","closed_at":"2026-02-12T18:13:52.100152+09:00","close_reason":"Closed","dependencies":[{"issue_id":"cuggu-au9","depends_on_id":"cuggu-wci","type":"blocks","created_at":"2026-02-12T18:05:06.915951+09:00","created_by":"jykim"}]}
{"id":"cuggu-ave","title":"청첩장 CRUD API 구현","description":"청첩장 생성/조회/수정/삭제 API 엔드포인트\n\n구현 내용:\n- POST /api/invitations (생성)\n- GET /api/invitations (목록, 페이지네이션)\n- GET /api/invitations/[id] (단건 조회, 권한 체크)\n- PUT /api/invitations/[id] (수정, 자동 저장용)\n- DELETE /api/invitations/[id] (soft delete)\n- POST /api/invitations/[id]/verify (비밀번호 검증)\n\n기술 스택:\n- Next.js API Routes\n- Drizzle ORM\n- Zod 검증\n- nanoid URL 생성\n\n참고: docs/invitation-creation-plan.md","status":"closed","priority":1,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-04T11:55:53.254893+09:00","created_by":"jykim","updated_at":"2026-02-04T12:07:53.516159+09:00","closed_at":"2026-02-04T12:07:53.516159+09:00","close_reason":"Closed"}
{"id":"cuggu-ayy7","title":"[공개뷰] Cover/Gallery 이미지 bare \u003cimg\u003e — LCP 미최적화 + CLS","description":"파일: CoverSection.tsx:70, GallerySection.tsx:77\n문제: next/image 대신 bare \u003cimg\u003e 태그 사용. LCP 최적화 불가, width/height 없어 CLS 발생.\n수정 방향: next/image의 Image 컴포넌트로 교체. priority prop으로 LCP 힌트, sizes prop으로 반응형 처리. fill 또는 명시적 width/height로 CLS 방지.","status":"open","priority":0,"issue_type":"bug","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T16:37:24.290222+09:00","created_by":"jykim","updated_at":"2026-02-20T16:37:24.290222+09:00","labels":["performance","ui"]}
{"id":"cuggu-bar","title":"D-Day 달력 스타일을 설정 탭으로 이동","description":"VenueTab 하단의 D-Day 달력 스타일 선택기를 SettingsTab으로 이동. 예식장 탭은 정보 입력에 집중. 변경파일: VenueTab.tsx, SettingsTab.tsx","status":"closed","priority":3,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-09T15:09:42.403189+09:00","created_by":"jykim","updated_at":"2026-02-09T15:12:36.307531+09:00","closed_at":"2026-02-09T15:12:36.307531+09:00","close_reason":"D-Day 달력 스타일을 VenueTab에서 SettingsTab으로 이동 완료","dependencies":[{"issue_id":"cuggu-bar","depends_on_id":"cuggu-wfn","type":"blocks","created_at":"2026-02-09T15:09:46.092011+09:00","created_by":"jykim"}]}
{"id":"cuggu-bb7k","title":"[대시보드] API 에러 시 UI 피드백 없음 — 4개 리스트 페이지","description":"파일: invitations, rsvp, guestbook, dashboard 페이지\n문제: API fetch 실패 시 빈 화면이나 깨진 레이아웃만 표시. 에러 메시지, 재시도 버튼 등 사용자 피드백이 전혀 없음.\n수정 방향: try-catch + error state + ErrorBoundary 패턴. '데이터를 불러올 수 없습니다. 다시 시도해주세요.' + 재시도 버튼.","status":"open","priority":1,"issue_type":"bug","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T16:38:31.996353+09:00","created_by":"jykim","updated_at":"2026-02-20T16:38:31.996353+09:00","labels":["dashboard","ui"]}
{"id":"cuggu-bi8","title":"[Phase 1] 참조 사진 Zod 스키마","description":"schemas/ai.ts에 CreateReferencePhotoSchema, ReferencePhotoSchema Zod 스키마 추가.","status":"closed","priority":1,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-12T18:03:54.909798+09:00","created_by":"jykim","updated_at":"2026-02-12T18:13:37.593494+09:00","closed_at":"2026-02-12T18:13:37.593494+09:00","close_reason":"Closed","dependencies":[{"issue_id":"cuggu-bi8","depends_on_id":"cuggu-w70","type":"blocks","created_at":"2026-02-12T18:05:06.716448+09:00","created_by":"jykim"}]}
{"id":"cuggu-bksw","title":"Publish 로직 TopBar/MobileTopBar 완전 중복","description":"TopBar.tsx:39-66, MobileTopBar.tsx:31-58 — 동일한 publish fetch 로직. formatTimeAgo도 TopBar와 TemplateTab에 각각 독립 구현. hooks/usePublishInvitation.ts 추출, formatTimeAgo → lib/format.ts 통합.","status":"open","priority":1,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T16:26:14.688309+09:00","created_by":"jykim","updated_at":"2026-02-20T16:26:14.688309+09:00"}
{"id":"cuggu-bpa","title":"커스텀 OG 공유 이미지 설정","description":"카카오톡/URL 공유 시 썸네일 이미지 직접 지정. share: { ogImage?: string, ogTitle?: string }. generateMetadata()에서 커스텀 값 우선 적용. 현재는 첫 갤러리 사진으로 자동 생성됨. 0.5일 소요 예상.","notes":"[로드맵 리뷰] P1→P2 강등. 갤러리 첫 사진 자동 OG로 MVP 가능. 커스텀은 나중에.","status":"closed","priority":2,"issue_type":"feature","owner":"jiyk1308@solbox.com","created_at":"2026-02-06T17:47:18.431877+09:00","created_by":"jykim","updated_at":"2026-02-20T15:20:24.885646+09:00","closed_at":"2026-02-20T15:20:24.885646+09:00","close_reason":"Closed"}
{"id":"cuggu-bq5","title":"모바일 반응형 검증","description":"모바일 환경에서 UI/UX 정상 작동 확인\n\n## 테스트 기기/환경\n- iOS Safari (iPhone 13 이상)\n- Android Chrome (Galaxy S21 이상)\n- 개발자 도구 모바일 시뮬레이터\n\n## 검증 항목\n\n### 1. 레이아웃\n- [ ] 업로드 영역 터치하기 편한 크기\n- [ ] 스타일 버튼 터치 반응\n- [ ] 2×2 갤러리 그리드 정렬\n- [ ] 하단 버튼 safe area 고려\n\n### 2. 이미지 업로드\n- [ ] 카메라 직접 촬영 가능\n- [ ] 갤러리에서 선택 가능\n- [ ] 드래그 앤 드롭 (지원 브라우저)\n\n### 3. 성능\n- [ ] 이미지 로딩 속도\n- [ ] 애니메이션 끊김 없음\n- [ ] 진행 바 정상 작동\n\n### 4. 접근성\n- [ ] 터치 영역 최소 44x44px\n- [ ] 폰트 크기 가독성\n- [ ] 에러 메시지 명확성\n\n## 참고\n- docs/ai-photo-frontend-plan.md 섹션 10.3","status":"open","priority":2,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-04T20:32:08.747683+09:00","created_by":"jykim","updated_at":"2026-02-04T20:32:08.747683+09:00"}
{"id":"cuggu-bs1","title":"DB 스키마: aiAlbums 테이블 + aiGenerations albumId FK","status":"closed","priority":1,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-12T15:36:37.686594+09:00","created_by":"jykim","updated_at":"2026-02-12T15:38:37.918963+09:00","closed_at":"2026-02-12T15:38:37.918963+09:00","close_reason":"Closed"}
{"id":"cuggu-bvc","title":"page.tsx 리라이트 + 기존 탭 제거","status":"closed","priority":1,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-12T15:36:42.37273+09:00","created_by":"jykim","updated_at":"2026-02-12T15:45:03.272093+09:00","closed_at":"2026-02-12T15:45:03.272093+09:00","close_reason":"Closed","dependencies":[{"issue_id":"cuggu-bvc","depends_on_id":"cuggu-a5g","type":"blocks","created_at":"2026-02-12T15:36:47.398472+09:00","created_by":"jykim"}]}
{"id":"cuggu-c0m","title":"이용약관/개인정보처리방침 페이지 추가","description":"법적 필수 페이지. 카카오 로그인 심사에도 필요. app/terms/page.tsx, app/privacy/page.tsx 생성.","status":"closed","priority":0,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-14T15:11:51.987112+09:00","created_by":"jykim","updated_at":"2026-02-14T17:05:24.620026+09:00","closed_at":"2026-02-14T17:05:24.620026+09:00","close_reason":"이용약관(app/terms/page.tsx) + 개인정보처리방침(app/privacy/page.tsx) 생성. Footer 링크 연결. 13개 조항/13개 섹션 포함, AI 서비스/RSVP 하객 정보 보호 등 서비스 특화 항목 반영."}
{"id":"cuggu-c7n","title":"크레딧 실시간 감소 UI 반영 안 되는 문제 확인","description":"사진 생성 시 크레딧이 차감되지만 UI에 동적으로 반영되지 않음. onCreditsChange 콜백이 제대로 호출되는지, 호출 시점이 맞는지 확인 필요.","status":"closed","priority":2,"issue_type":"bug","owner":"jiyk1308@solbox.com","created_at":"2026-02-12T20:38:15.182925+09:00","created_by":"jykim","updated_at":"2026-02-19T14:11:17.479444+09:00","closed_at":"2026-02-19T14:11:17.479444+09:00","close_reason":"이미 구현됨 — SSE done 이벤트에 remainingCredits 포함, useAIGeneration에서 onCreditsChange 콜백 호출, 각 UI 컴포넌트에서 setCredits로 즉시 반영"}
{"id":"cuggu-c8k","title":"[Phase 3] Job 완료 처리 — 상태 업데이트 + 미사용 크레딧 환불","description":"프론트에서 모든 태스크 완료 후 호출. Job 상태→COMPLETED/PARTIAL/FAILED. 미사용 크레딧 releaseCredits(creditsReserved-creditsUsed). PATCH /api/ai/jobs/[id] 엔드포인트.","status":"closed","priority":1,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-12T18:04:13.641908+09:00","created_by":"jykim","updated_at":"2026-02-12T18:16:04.126167+09:00","closed_at":"2026-02-12T18:16:04.126167+09:00","close_reason":"Closed","dependencies":[{"issue_id":"cuggu-c8k","depends_on_id":"cuggu-9sz","type":"blocks","created_at":"2026-02-12T18:05:07.246409+09:00","created_by":"jykim"}]}
{"id":"cuggu-ch7","title":"DashboardNav AI 메뉴 네이밍 변경","description":"DashboardNav.tsx에서 'AI 사진 생성' → 'AI 포토 스튜디오'로 메뉴명 변경.","status":"closed","priority":3,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-11T20:57:38.39992+09:00","created_by":"jykim","updated_at":"2026-02-19T14:49:06.030333+09:00","closed_at":"2026-02-19T14:49:06.030333+09:00","close_reason":"이미 'AI 포토 스튜디오'로 변경됨 (DashboardNav.tsx:22)"}
{"id":"cuggu-cle","title":"theme-generation.ts: usage 반환 + safelist 검증 분리","description":"generateTheme 반환값에 inputTokens/outputTokens 추가, safelist 검증은 API route로 이동","status":"closed","priority":1,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-09T16:26:31.649253+09:00","created_by":"jykim","updated_at":"2026-02-09T16:29:32.962818+09:00","closed_at":"2026-02-09T16:29:32.962818+09:00","close_reason":"generateTheme에 usage 반환 추가, safelist 검증 분리(checkThemeClasses)","dependencies":[{"issue_id":"cuggu-cle","depends_on_id":"cuggu-hay","type":"blocks","created_at":"2026-02-09T16:26:57.965776+09:00","created_by":"jykim"},{"issue_id":"cuggu-cle","depends_on_id":"cuggu-q21","type":"parent-child","created_at":"2026-02-09T16:27:20.91947+09:00","created_by":"jykim"}]}
{"id":"cuggu-ctcn","title":"Job 완료 처리 TOCTOU 레이스 컨디션","description":"app/api/ai/generate/stream/route.ts:269-299 — UPDATE 후 별도 SELECT 사이에 다른 요청이 끼어들 수 있음. 배치 생성에서 두 worker가 동시에 완료 체크 통과 → releaseCredits 두 번 호출 가능. UPDATE+완료체크를 하나의 트랜잭션으로 묶어 RETURNING 처리 필요.","status":"open","priority":0,"issue_type":"bug","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T16:25:43.236655+09:00","created_by":"jykim","updated_at":"2026-02-20T16:25:43.236655+09:00"}
{"id":"cuggu-cul","title":"템플릿 리팩토링: 공유 섹션 컴포넌트 추출","description":"6개 템플릿의 ~80% 코드 중복 해소. components/templates/sections/에 공유 섹션 컴포넌트 추출. 각 템플릿은 테마 객체(색상/폰트/간격)만 정의하고 섹션에 theme prop 전달. 이후 모든 커스터마이징 기능 추가가 1개 파일 수정으로 끝나게 됨. Tier 1 선행 작업.","status":"closed","priority":1,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-06T17:47:05.838021+09:00","created_by":"jykim","updated_at":"2026-02-09T11:21:41.862014+09:00","closed_at":"2026-02-09T11:21:41.862014+09:00","close_reason":"리팩토링 완료: 6개 템플릿 thin wrapper화, 7개 공유 섹션 추출, SerializableTheme 타입 시스템, BaseTemplate 합성 레이어 구축"}
{"id":"cuggu-d0b","title":"Albums API N+1 쿼리 수정 + albumId 인덱스","status":"closed","priority":1,"issue_type":"bug","owner":"jiyk1308@solbox.com","created_at":"2026-02-14T17:12:25.009311+09:00","created_by":"jykim","updated_at":"2026-02-14T17:13:24.534043+09:00","closed_at":"2026-02-14T17:13:24.534043+09:00","close_reason":"N+1 → 단일 IN 쿼리로 변경 + albumId/jobId 인덱스 추가"}
{"id":"cuggu-d7by","title":"GallerySection index를 React key로 사용","description":"components/templates/sections/GallerySection.tsx:51,70 — index를 key로 사용. 이미지 URL이 고유하므로 key={image}로 변경.","status":"open","priority":3,"issue_type":"bug","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T16:27:27.416309+09:00","created_by":"jykim","updated_at":"2026-02-20T16:27:27.416309+09:00"}
{"id":"cuggu-dko","title":"타입 + Zod 스키마 정의","status":"closed","priority":1,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-12T15:36:38.569622+09:00","created_by":"jykim","updated_at":"2026-02-12T15:38:37.921477+09:00","closed_at":"2026-02-12T15:38:37.921477+09:00","close_reason":"Closed"}
{"id":"cuggu-dmg","title":"테마 생성 멀티 모델 지원","status":"closed","priority":1,"issue_type":"feature","owner":"jiyk1308@solbox.com","created_at":"2026-02-10T10:10:45.488315+09:00","created_by":"jykim","updated_at":"2026-02-10T10:14:48.936681+09:00","closed_at":"2026-02-10T10:14:48.936681+09:00","close_reason":"6개 신규 파일 + 5개 수정 파일 + 마이그레이션 구현 완료, tsc 통과"}
{"id":"cuggu-dx0","title":"API 응답 형식 통일 (withErrorHandler)","status":"closed","priority":1,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-14T17:12:25.165524+09:00","created_by":"jykim","updated_at":"2026-02-14T17:16:28.989243+09:00","closed_at":"2026-02-14T17:16:28.989243+09:00","close_reason":"죽은 코드(requireAuth 스텁, checkRateLimit 스텁) 제거. requireAuthUser 헬퍼 추가. 전체 라우트 withErrorHandler 래핑은 점진적으로 진행."}
{"id":"cuggu-e1rd","title":"파일 검증 상수 5곳 산재 + MIME 타입 불일치","description":"lib/ai/constants.ts (2회), types/ai.ts, schemas/common.ts, schemas/ai.ts (2곳), 컴포넌트 2곳에 MAX_FILE_SIZE/ALLOWED_FILE_TYPES 산재. gif 포함 여부가 위치마다 다름. lib/ai/constants.ts를 single source of truth로 통일.","status":"open","priority":1,"issue_type":"bug","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T16:26:28.49077+09:00","created_by":"jykim","updated_at":"2026-02-20T16:26:28.49077+09:00"}
{"id":"cuggu-e52w","title":"[공개뷰] Modern 테마 contentMaxWidth에 mx-auto 누락","description":"파일: lib/templates/themes.ts:105\n문제: Modern 테마의 contentMaxWidth 설정 시 mx-auto가 빠져있어 max-width가 적용되어도 좌측 정렬됨.\n수정 방향: contentMaxWidth 사용처에서 mx-auto를 함께 적용하도록 수정.","status":"open","priority":3,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T16:39:40.692626+09:00","created_by":"jykim","updated_at":"2026-02-20T16:39:40.692626+09:00","labels":["ui"]}
{"id":"cuggu-e7c7","title":"TemplateTab God Component — 책임 분리","description":"components/editor/tabs/TemplateTab.tsx — 템플릿 선택 UI, AI 테마 생성, 저장된 테마 라이브러리, 컨텍스트 체크 모달, 미니 프리뷰, 시간 포맷 유틸이 단일 파일. useThemeLibrary 훅으로 테마 라이브러리 로직 분리.","status":"open","priority":2,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T16:26:38.34944+09:00","created_by":"jykim","updated_at":"2026-02-20T16:26:38.34944+09:00"}
{"id":"cuggu-ej1t","title":"stream vs generate 라우트 크레딧 차감 순서 불일치","description":"generate/route.ts: 크레딧 차감→S3→AI. stream/route.ts: S3→크레딧 차감→AI. stream에서 S3 실패 시 환불 분기가 dead code. stream 라우트의 크레딧 차감을 S3 이전으로 이동하여 순서 일치 필요.","status":"open","priority":0,"issue_type":"bug","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T16:25:39.141372+09:00","created_by":"jykim","updated_at":"2026-02-20T16:25:39.141372+09:00"}
{"id":"cuggu-ej3","title":"AI 테마 생성 시 청첩장 컨텍스트 주입","status":"closed","priority":2,"issue_type":"feature","owner":"jiyk1308@solbox.com","created_at":"2026-02-10T11:11:52.199635+09:00","created_by":"jykim","updated_at":"2026-02-10T11:14:07.156496+09:00","closed_at":"2026-02-10T11:14:07.156496+09:00","close_reason":"theme-context.ts 신규 생성, route.ts 컨텍스트 주입, ConfirmDialog ReactNode 확장, TemplateTab 모달+안내 텍스트 추가 완료"}
{"id":"cuggu-emny","title":"[에디터] stone/slate/gray 색상 팔레트 혼용","description":"파일: AccountTab, TemplateTab, EditorPanel 등\n문제: 에디터 전체에서 gray, slate, stone 세 가지 Tailwind 그레이 팔레트가 혼용됨. 미묘한 색상 불일치로 UI가 산만해 보임.\n수정 방향: 하나의 그레이 팔레트(slate 권장)로 통일. Tailwind config에서 gray alias 설정하거나 일괄 치환.","status":"open","priority":1,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T16:38:17.572377+09:00","created_by":"jykim","updated_at":"2026-02-20T16:38:17.572377+09:00","labels":["design-system","editor","ui"]}
{"id":"cuggu-eriq","title":"[대시보드] 토스트 위치 viewport 중앙 — 사이드바 고려 안됨","description":"파일: [albumId]/page.tsx:251\n문제: 토스트 메시지가 전체 viewport 중앙에 표시되어 사이드바(256px)가 있는 대시보드에서 좌측으로 치우쳐 보임.\n수정 방향: 토스트 컨테이너를 메인 콘텐츠 영역 기준으로 위치. 또는 우측 상단 고정 위치로 변경.","status":"open","priority":3,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T16:39:58.020773+09:00","created_by":"jykim","updated_at":"2026-02-20T16:39:58.020773+09:00","labels":["dashboard","ui"]}
{"id":"cuggu-erlq","title":"[공개뷰] OG fallback 도메인 불일치 (cuggu.com vs cuggu.io)","description":"파일: app/inv/[id]/page.tsx:46\n문제: OG 메타 태그의 fallback URL이 cuggu.com과 cuggu.io를 혼용. 도메인 불일치로 SNS 미리보기가 깨질 수 있음.\n수정 방향: 환경 변수 NEXT_PUBLIC_BASE_URL 하나로 통일. fallback도 동일 변수 참조.","status":"open","priority":2,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T16:38:58.52231+09:00","created_by":"jykim","updated_at":"2026-02-20T16:38:58.52231+09:00","labels":["seo","ui"]}
{"id":"cuggu-erp","title":"엔딩 섹션 구현 (사진 + 마무리 문구)","description":"푸터 바로 위에 전체 너비 사진 + 마무리 문구 섹션 추가. ending: { photo?: string, message?: string }. 예시 문구 제공. 별도 reorderable 섹션 아님(고정 위치). 경쟁사 대비 '심각' 격차 항목.","notes":"[로드맵 리뷰] P1→P2 강등. nice-to-have. 방명록/바이럴 CTA가 더 급함.","status":"closed","priority":2,"issue_type":"feature","owner":"jiyk1308@solbox.com","created_at":"2026-02-06T17:47:12.328435+09:00","created_by":"jykim","updated_at":"2026-02-20T15:06:32.419368+09:00","closed_at":"2026-02-20T15:06:32.419368+09:00","close_reason":"엔딩 섹션 구현 완료 (ab528ac) — 스키마, 컴포넌트, API, 에디터 탭, 6개 테마 기본값, 프리뷰 extendedData 버그 수정 포함"}
{"id":"cuggu-esi4","title":"[대시보드] 크레딧 표시 3곳 동시 노출 (사이드바+페이지 헤더+앨범 상세)","description":"파일: DashboardNav, ai-photos 관련 페이지\n문제: 남은 크레딧이 사이드바, AI Photos 페이지 헤더, 앨범 상세 페이지에 동시 표시. 정보 중복 + 화면 공간 낭비.\n수정 방향: 사이드바에만 표시하고 나머지는 제거. 또는 사이드바가 숨겨진 모바일에서만 페이지 내 표시.","status":"open","priority":3,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T16:39:57.967046+09:00","created_by":"jykim","updated_at":"2026-02-20T16:39:57.967046+09:00","labels":["dashboard","ui"]}
{"id":"cuggu-ewf8","title":"관리자: 사용자별 AI 앨범 초기화 기능","description":"## 배경\n관리자가 특정 사용자의 AI 앨범 데이터를 초기화할 수 있는 기능. 테스트 데이터 정리, CS 대응 등에 필요.\n\n## 영향 범위 (분석 완료)\n\n### DB 테이블 (cascade 순서)\n1. `ai_generations` — albumId FK (onDelete: set null). 생성 이력 삭제 또는 albumId null 처리\n2. `ai_generation_jobs` — albumId FK (onDelete: set null). 작업 이력 삭제 또는 albumId null 처리\n3. `ai_albums` — 핵심 대상. userId로 필터링해서 삭제\n4. `ai_reference_photos` — 참조 사진. 앨범과 직접 FK 없음, userId로만 연결. 별도 옵션으로 포함 여부 결정\n5. `ai_credit_transactions` — 감사 로그이므로 삭제하면 안 됨. REFUND 트랜잭션 추가 여부만 결정\n\n### S3 정리\n- `ai_generations.generatedUrls[]` + `selectedUrl` — 생성된 이미지 URL\n- `ai_albums.images[].url` — 앨범 큐레이션 이미지 (generations와 중복)\n- `ai_reference_photos.originalUrl` — 참조 사진 (옵션)\n- 공유 유틸 `extractS3Key()` + `deleteFromS3()` 사용 (cuggu-5no에서 추출 완료)\n\n### 변경 파일 (예상 5~6개)\n1. `schemas/admin.ts` — AdminUserActionSchema에 `reset_albums` 액션 추가, 옵션 (참조사진 포함 여부, 크레딧 환불 여부)\n2. `app/api/admin/users/route.ts` — POST에 reset_albums case 추가. 트랜잭션으로 DB 삭제 + S3 fire-and-forget\n3. `components/admin/UserActionModal.tsx` — 초기화 버튼 + 확인 다이얼로그 (위험 액션이므로 2단계 확인)\n4. `app/admin/users/page.tsx` — handleAction에 reset_albums 추가\n\n### 설계 포인트\n- **트랜잭션**: DB 삭제는 하나의 트랜잭션. S3는 best-effort (실패해도 DB 롤백 안 함)\n- **옵션**: 참조사진 포함 삭제 / 크레딧 환불 — 체크박스로 선택\n- **로그**: ai_credit_transactions에 REFUND 기록 (환불 선택 시)\n- **확인 UI**: 삭제 대상 건수 미리 표시 (앨범 N개, 생성 이미지 N개, 참조사진 N개)","status":"open","priority":4,"issue_type":"feature","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T10:37:55.376432+09:00","created_by":"jykim","updated_at":"2026-02-20T10:37:55.376432+09:00"}
{"id":"cuggu-ewzc","title":"invitation: any 타입 7개 파일","description":"EditorPanel.tsx, Sidebar.tsx, TopBar.tsx, SectionPanel, TabletTabStrip, MobilePreviewOverlay, PreviewPanel 모두 invitation: any + TODO 주석. schemas/invitation에 타입 이미 존재. Invitation 타입 import 적용.","status":"open","priority":1,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T16:26:10.998582+09:00","created_by":"jykim","updated_at":"2026-02-20T16:26:10.998582+09:00"}
{"id":"cuggu-f7gz","title":"[공개뷰] Gallery 라이트박스 모바일 스와이프 힌트 없음","description":"파일: GalleryLightbox.tsx:85\n문제: 라이트박스에서 좌우 스와이프로 이미지 전환 가능하지만 시각적 힌트(화살표, 점 인디케이터 등)가 없음. 사용자가 스와이프 가능한지 모름.\n수정 방향: 하단에 점 인디케이터 추가. 첫 진입 시 좌우 화살표 잠깐 표시 후 페이드아웃하는 힌트 애니메이션.","status":"open","priority":2,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T16:38:45.534009+09:00","created_by":"jykim","updated_at":"2026-02-20T16:38:45.534009+09:00","labels":["mobile","ui","ux"]}
{"id":"cuggu-f9s","title":"다크모드 지원","description":"에디터 및 대시보드 다크모드. 선택적 기능. 참고: docs/diary/2026-02-04_editor-ui-redesign.md","notes":"[로드맵 리뷰] P4 유지. 청첩장에 다크모드 불필요.","status":"open","priority":4,"issue_type":"feature","owner":"jiyk1308@solbox.com","created_at":"2026-02-10T14:37:57.741647+09:00","created_by":"jykim","updated_at":"2026-02-10T17:13:26.226333+09:00"}
{"id":"cuggu-fa4","title":"[결제] 스마트스토어 활성화 API + 페이지","description":"POST /api/payments/activate-smartstore: 로그인확인, 주문번호 수신, Commerce API 조회, PAYED+미활성화 확인, grantPaymentRewards(channel=SMARTSTORE), 발송처리 호출. app/activate/page.tsx: 로그인 게이트+주문번호 입력 폼+결과 표시. 참고: docs/payment-flow-design.md §4","status":"closed","priority":2,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-13T16:41:02.910121+09:00","created_by":"jykim","updated_at":"2026-02-19T15:23:17.246747+09:00","closed_at":"2026-02-19T15:23:17.246747+09:00","close_reason":"스마트스토어 결제 연동 구현 완료. 네이버 로그인은 이미 auth.ts에 구현되어 있어 별도 작업 불필요.","labels":["backend","frontend","payment"],"dependencies":[{"issue_id":"cuggu-fa4","depends_on_id":"cuggu-97k","type":"blocks","created_at":"2026-02-13T16:41:10.305715+09:00","created_by":"jykim"}]}
{"id":"cuggu-fb3i","title":"creditsReserved - creditsUsed 음수 가능성 무탐지","description":"app/api/ai/jobs/[id]/route.ts:153, stream/route.ts:291 — 크레딧 차이 음수 시 경고 로그 필요.","status":"open","priority":3,"issue_type":"bug","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T16:27:03.461796+09:00","created_by":"jykim","updated_at":"2026-02-20T16:27:03.461796+09:00"}
{"id":"cuggu-fci","title":"주소 검색 및 Geocoding 구현 (Kakao Map API)","description":"**목표**: VenueTab에서 예식장 주소를 검색하고 위도/경도를 자동으로 저장\n\n**구현 내용**:\n1. Kakao 주소 검색 API 클라이언트 (lib/kakao-map.ts)\n2. VenueTab 주소 검색 UI (드롭다운 autocomplete)\n3. 주소 선택 시 lat/lng 자동 저장\n4. 환경 변수 설정 (NEXT_PUBLIC_KAKAO_MAP_API_KEY)\n\n**선행 작업**:\n- Kakao Developers 계정 생성\n- 애플리케이션 등록 및 도메인 설정\n- JavaScript 키 발급\n\n**참고**: docs/map-integration-requirements.md","status":"closed","priority":1,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-04T18:05:24.281376+09:00","created_by":"jykim","updated_at":"2026-02-06T17:51:02.885177+09:00","closed_at":"2026-02-06T17:51:02.885177+09:00","close_reason":"이미 구현 완료 확인됨. 공개 청첩장 페이지(6개 템플릿, 전 섹션), 카카오맵 지도/길찾기(3종 내비), 주소 검색/Geocoding 모두 동작 중."}
{"id":"cuggu-fkxm","title":"[공개뷰] GuestbookSection이 RSVP 배경색 재사용 — 시각적 구분 없음","description":"파일: GuestbookSectionWrapper.tsx:18\n문제: 방명록 섹션이 RSVP 섹션과 동일한 배경색을 사용하여 두 섹션의 경계가 불분명.\n수정 방향: 테마별로 guestbook 전용 배경색 토큰 추가. 또는 subtle한 구분선/그라데이션으로 섹션 구분.","status":"open","priority":3,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T16:39:41.038567+09:00","created_by":"jykim","updated_at":"2026-02-20T16:39:41.038567+09:00","labels":["ui"]}
{"id":"cuggu-fst","title":"성능 테스트 및 최적화","description":"Lighthouse 점수 90점+ 목표, 모바일 FCP \u003c 1.8초, 번들 크기 최적화, 코드 스플리팅","notes":"[로드맵 리뷰] P2→P4. 사용자 0명 상태에서 성능 최적화 무의미. 트래픽 생긴 후.","status":"open","priority":4,"issue_type":"task","created_at":"2026-02-03T14:34:59.281447+09:00","created_by":"jyk","updated_at":"2026-02-10T17:13:33.728179+09:00","labels":["optimization"]}
{"id":"cuggu-fv0h","title":"PersonSchema 중복 정의","description":"schemas/invitation.ts — isDeceased 인라인 스키마 + fatherName/motherName 블록이 4회 반복. CreateInvitationSchema에서 PersonSchema.extend 미사용. IsDeceasedSchema 추출 후 재사용.","status":"open","priority":2,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T16:27:00.969834+09:00","created_by":"jykim","updated_at":"2026-02-20T16:27:00.969834+09:00"}
{"id":"cuggu-fwh","title":"카카오톡 OG 캐시 초기화 API","description":"발행 후 청첩장 수정 시 카카오톡 공유 미리보기가 갱신되지 않는 문제. 카카오 OG 캐시 초기화 API 호출 필요. 참고: docs/diary/2026-02-05_preview-publish-implementation.md","status":"closed","priority":2,"issue_type":"feature","owner":"jiyk1308@solbox.com","created_at":"2026-02-10T14:37:50.191703+09:00","created_by":"jykim","updated_at":"2026-02-20T15:20:24.93996+09:00","closed_at":"2026-02-20T15:20:24.93996+09:00","close_reason":"Closed","dependencies":[{"issue_id":"cuggu-fwh","depends_on_id":"cuggu-bpa","type":"blocks","created_at":"2026-02-20T15:09:05.20721+09:00","created_by":"jykim"}]}
{"id":"cuggu-fzk5","title":"[공개뷰] OG 이미지 width/height 누락 → 카카오 미리보기 깨짐","description":"파일: app/inv/[id]/page.tsx:57\n문제: OpenGraph 메타 태그에서 og:image:width, og:image:height가 빠져있음. 카카오톡 미리보기에서 이미지가 찌그러지거나 누락될 수 있음.\n수정 방향: metadata.openGraph.images에 width: 1200, height: 630 추가. 이미지 생성 시 해당 비율 보장.","status":"open","priority":1,"issue_type":"bug","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T16:37:47.161381+09:00","created_by":"jykim","updated_at":"2026-02-20T16:37:47.161381+09:00","labels":["seo","ui"]}
{"id":"cuggu-g6s","title":"AI 테마 다양성 개선 (레이아웃 분기)","description":"테마 스키마에 galleryLayout, parentsLayout, ceremonyLayout 등 레이아웃 필드 확장. 섹션 컴포넌트가 레이아웃에 따라 동적 분기하도록 변경 (현재 하드코딩). AI 프롬프트 개편 및 빌트인 6개 테마 구조 차별화. 설계: docs/ai-theme-diversity-plan.md","status":"closed","priority":2,"issue_type":"feature","owner":"jiyk1308@solbox.com","created_at":"2026-02-10T14:29:20.2035+09:00","created_by":"jykim","updated_at":"2026-02-10T16:25:56.193162+09:00","closed_at":"2026-02-10T16:25:56.193162+09:00","close_reason":"a4ec720에서 구현 완료: 테마 스키마 레이아웃 필드 확장(ceremonyLayout/galleryLayout/parentsLayout), 섹션 컴포넌트 동적 분기, AI 프롬프트 개편, 빌트인 테마 구조 차별화"}
{"id":"cuggu-g9f5","title":"에디터 로드 실패 시 fake 데이터로 자동저장 → 기존 데이터 손상 위험","description":"app/editor/[id]/page.tsx:56-72 — API 실패 시 빈 초기값(userId: temp-user)으로 setInvitation 호출. 사용자가 편집 계속하면 잘못된 데이터 전송 가능. loadError 상태 추가 후 ErrorState 컴포넌트로 처리 필요.","status":"open","priority":0,"issue_type":"bug","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T16:25:31.91143+09:00","created_by":"jykim","updated_at":"2026-02-20T16:25:31.91143+09:00"}
{"id":"cuggu-g9kb","title":"[공개뷰] GalleryLightbox 이미지 width/height 없음 — 전환 시 점프","description":"파일: GalleryLightbox.tsx:121\n문제: 라이트박스 이미지에 width/height가 없어 이미지 전환 시 레이아웃 점프(CLS) 발생.\n수정 방향: 이미지 메타데이터에서 aspect ratio 계산하여 적용. 또는 object-fit: contain + 고정 컨테이너 크기.","status":"open","priority":3,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T16:39:40.887705+09:00","created_by":"jykim","updated_at":"2026-02-20T16:39:40.887705+09:00","labels":["ui"]}
{"id":"cuggu-gj7u","title":"AI client 싱글턴 패턴 불일치","description":"theme-providers/: 모듈 싱글턴 패턴 사용. providers/: 매번 new 생성. 패턴 통일 필요.","status":"open","priority":3,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T16:27:13.749635+09:00","created_by":"jykim","updated_at":"2026-02-20T16:27:13.749635+09:00"}
{"id":"cuggu-gka8","title":"FallingPetals 랜덤값 매 렌더마다 재생성","description":"components/animations/FallingPetals.tsx:14-19, components/landing/HeroImpact.tsx:138-143 — 렌더링마다 새 랜덤값 생성. useMemo로 감싸서 한 번만 생성하도록 수정 필요.","status":"open","priority":1,"issue_type":"bug","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T16:26:18.771132+09:00","created_by":"jykim","updated_at":"2026-02-20T16:26:18.771132+09:00"}
{"id":"cuggu-gmy","title":"Phase 0: API 확장 (필터/페이지네이션 + 즐겨찾기 + 적용)","status":"closed","priority":1,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-11T22:19:53.25619+09:00","created_by":"jykim","updated_at":"2026-02-11T22:22:01.930489+09:00","closed_at":"2026-02-11T22:22:01.930489+09:00","close_reason":"GET 필터/페이지네이션, PATCH 즐겨찾기, POST apply 3개 API 구현 완료"}
{"id":"cuggu-grb6","title":"[공개뷰] RSVPForm label-input 미연결 (htmlFor/id 없음)","description":"파일: RSVPForm.tsx:113\n문제: label과 input이 htmlFor/id로 연결되어 있지 않음. 스크린 리더가 필드 용도를 알 수 없음. 라벨 클릭 시 입력 포커스도 안됨.\n수정 방향: 각 input에 고유 id 부여, 대응 label에 htmlFor 추가. 또는 label로 input을 감싸는 패턴.","status":"open","priority":1,"issue_type":"bug","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T16:37:47.047084+09:00","created_by":"jykim","updated_at":"2026-02-20T16:37:47.047084+09:00","labels":["a11y","ui"]}
{"id":"cuggu-gsr","title":"[Phase 0] 결제 스키마 코멘트 업데이트 (1크레딧=1장)","description":"schemas/payment.ts 268-281행 CREDITS_GRANTED/PAYMENT_AMOUNTS 코멘트를 1크레딧=1장 기준으로 업데이트. 값 자체는 비즈니스 결정에 따라 추후 조정.","status":"closed","priority":0,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-12T18:04:00.162539+09:00","created_by":"jykim","updated_at":"2026-02-12T18:11:14.93956+09:00","closed_at":"2026-02-12T18:11:14.93956+09:00","close_reason":"Closed"}
{"id":"cuggu-gv70","title":"[에디터] SettingsTab 비밀번호 입력 type=text","description":"파일: SettingsTab.tsx:354\n문제: 비밀번호 입력 필드가 type='text'로 되어있어 입력 내용이 평문 노출됨. 어깨 너머 엿보기(shoulder surfing) 취약.\n수정 방향: type='password'로 변경. 선택적으로 보기/숨기기 토글 버튼 추가.","status":"open","priority":2,"issue_type":"bug","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T16:39:11.111756+09:00","created_by":"jykim","updated_at":"2026-02-20T16:39:11.111756+09:00","labels":["editor","security","ui"]}
{"id":"cuggu-gval","title":"Sentry 에러 트래킹 도입","notes":"유저 요청으로 보류. 패키지 설치 시 별도 진행.","status":"open","priority":1,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-14T17:12:25.21461+09:00","created_by":"jykim","updated_at":"2026-02-14T17:40:39.116116+09:00"}
{"id":"cuggu-hay","title":"DB 스키마: aiThemes 테이블 + 마이그레이션","description":"aiThemes 테이블, aiThemeStatusEnum 추가. db/schema.ts 수정 + 마이그레이션 SQL 생성","status":"closed","priority":1,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-09T16:26:28.805184+09:00","created_by":"jykim","updated_at":"2026-02-09T16:28:24.967907+09:00","closed_at":"2026-02-09T16:28:24.967907+09:00","close_reason":"aiThemes 테이블 + enum + relations + 마이그레이션 SQL 완료","dependencies":[{"issue_id":"cuggu-hay","depends_on_id":"cuggu-q21","type":"parent-child","created_at":"2026-02-09T16:27:20.880605+09:00","created_by":"jykim"}]}
{"id":"cuggu-hcu","title":"카카오 알림톡 API 연동","description":"RSVP 알림, 청첩장 발행 완료 등 이벤트에 카카오 알림톡 발송. 참고: docs/diary/2026-02-04_settings-page-implementation.md","status":"open","priority":3,"issue_type":"feature","owner":"jiyk1308@solbox.com","created_at":"2026-02-10T14:37:56.452249+09:00","created_by":"jykim","updated_at":"2026-02-10T14:37:56.452249+09:00"}
{"id":"cuggu-i4g","title":"크레딧 조회 API 구현","description":"사용자의 AI 크레딧을 조회하는 API 엔드포인트 구현\n\n## API 스펙\n\n**Endpoint**: `GET /api/user/credits`\n\n**Response**:\n```json\n{\n  \"success\": true,\n  \"credits\": 2\n}\n```\n\n## 구현 파일\n- `app/api/user/credits/route.ts`\n\n## 로직\n1. NextAuth로 세션 확인\n2. DB에서 user.aiCredits 조회\n3. JSON 응답 반환\n\n## 참고\n- docs/ai-photo-frontend-plan.md 섹션 7.2","status":"closed","priority":1,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-04T20:31:20.661721+09:00","created_by":"jykim","updated_at":"2026-02-04T20:36:24.843696+09:00","closed_at":"2026-02-04T20:36:24.843696+09:00","close_reason":"Closed"}
{"id":"cuggu-ibd9","title":"[에디터] SettingsTab 통계 카드 타이포그래피 불일치","description":"파일: SettingsTab.tsx:524\n문제: SettingsTab의 통계 카드(조회수, 공유수 등)가 대시보드 통계 카드와 다른 글꼴 크기/굵기 사용. 디자인 일관성 부족.\n수정 방향: 대시보드 StatCard 컴포넌트와 동일한 타이포그래피 적용. 또는 공유 StatCard 컴포넌트 재사용.","status":"open","priority":3,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T16:39:57.856542+09:00","created_by":"jykim","updated_at":"2026-02-20T16:39:57.856542+09:00","labels":["editor","ui"]}
{"id":"cuggu-id8i","title":"[에디터] 모바일 에디터에 저장 실패 재시도 기능 없음","description":"파일: app/m/editor/[id]/page.tsx\n문제: 모바일 에디터에서 저장 API 호출 실패 시 재시도 메커니즘 없음. 네트워크 불안정한 모바일 환경에서 데이터 손실 위험.\n수정 방향: 저장 실패 시 '다시 시도' 버튼 포함 토스트 표시. 선택적으로 exponential backoff 자동 재시도(최대 3회).","status":"open","priority":1,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T16:38:17.500832+09:00","created_by":"jykim","updated_at":"2026-02-20T16:38:17.500832+09:00","labels":["editor","mobile","ui"]}
{"id":"cuggu-iirs","title":"[공개뷰] Elegant 테마 text-slate-400 on bg-slate-800 — WCAG AA 대비 미달","description":"파일: lib/templates/themes.ts:433\n문제: Elegant 테마에서 slate-400 텍스트가 slate-800 배경 위에 표시됨. 대비비 약 3.5:1로 WCAG AA 최소 4.5:1 미달.\n수정 방향: text-slate-300 이상으로 밝은 색상 사용. 또는 테마별 대비비 검증 유틸 추가.","status":"open","priority":1,"issue_type":"bug","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T16:38:03.238778+09:00","created_by":"jykim","updated_at":"2026-02-20T16:38:03.238778+09:00","labels":["a11y","ui"]}
{"id":"cuggu-iji","title":"모바일 에디터 반응형 구현","description":"## 배경\n에디터가 3패널 고정 레이아웃 (최소 1400px). 스마트폰 편집 불가.\n한국 사용자 80%+ 모바일. UX/사용자/그로스 전 역할에서 지적.\n\n## 범위\n- 모바일: 탭 네비(하단) + 폼(전체화면) + 미리보기(전체화면 토글) 1패널 전환\n- 태블릿: 폼 + 미리보기 2패널\n- 데스크톱: 현재 3패널 유지\n- SectionPanel → 하단 탭바 또는 햄버거 메뉴\n\n## 주요 파일\n- app/editor/[id]/page.tsx (3패널 레이아웃)\n- components/editor/SectionPanel.tsx (좌측 220px 고정)\n- components/editor/PreviewPanel.tsx (우측 420px 고정)\n- components/editor/EditorPanel.tsx\n- components/editor/TopBar.tsx\n\n## 참고\n- docs/diary/2026-02-10_improvement-priority-roadmap.md","status":"closed","priority":1,"issue_type":"feature","owner":"jiyk1308@solbox.com","created_at":"2026-02-10T11:42:19.146399+09:00","created_by":"jykim","updated_at":"2026-02-11T19:59:43.250156+09:00","closed_at":"2026-02-11T19:59:43.250156+09:00","close_reason":"모바일 1패널(/m/editor), 태블릿 TabletTabStrip, 데스크톱 3패널 유지, UA 기반 자동 리다이렉트(proxy.ts), MobileTopBar/TabBar/EditorShell/PreviewOverlay+FAB 전부 구현 완료."}
{"id":"cuggu-iwod","title":"Drizzle inArray 미사용","description":"app/api/ai/albums/route.ts:107-113 — sql.join으로 직접 SQL IN 조합. Drizzle inArray() 함수 사용으로 교체.","status":"open","priority":3,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T16:26:56.133874+09:00","created_by":"jykim","updated_at":"2026-02-20T16:26:56.133874+09:00"}
{"id":"cuggu-j1v","title":"자동저장 실패 알림 및 재시도","description":"## 배경\n자동저장 실패 시 조용히 localStorage 백업. 사용자 인지 불가.\n데이터 유실 위험. 신뢰 훼손.\n\n## 범위\n- 저장 실패 시 TopBar에 경고 표시 (\"저장에 실패했습니다. 재시도 중...\")\n- 재시도 로직 (3회 exponential backoff)\n- 지속 실패 시 수동 저장 버튼 + \"오프라인 백업됨\" 안내\n\n## 주요 파일\n- stores/invitation-editor.ts (자동저장 로직, save() 함수)\n- components/editor/TopBar.tsx (저장 상태 표시)\n\n## 참고\n- docs/diary/2026-02-10_improvement-priority-roadmap.md","status":"closed","priority":1,"issue_type":"bug","owner":"jiyk1308@solbox.com","created_at":"2026-02-10T11:42:31.603182+09:00","created_by":"jykim","updated_at":"2026-02-10T17:47:14.104147+09:00","closed_at":"2026-02-10T17:47:14.104147+09:00","close_reason":"스토어에 saveError/retryCount 추가. 실패 시 5초 간격 자동 재시도(최대 3회) + 로컬스토리지 백업. TopBar에 빨간 에러 인디케이터 + 클릭 수동 재시도."}
{"id":"cuggu-j8tg","title":"users CASCADE DELETE → S3 고아 방지","status":"closed","priority":1,"issue_type":"bug","owner":"jiyk1308@solbox.com","created_at":"2026-02-14T17:12:25.263397+09:00","created_by":"jykim","updated_at":"2026-02-14T17:41:56.257645+09:00","closed_at":"2026-02-14T17:41:56.257645+09:00","close_reason":"AI 테이블 5개의 users FK를 CASCADE → SET NULL로 변경. 유저 삭제 시 AI 이력/S3 파일 보존. 마이그레이션 0012 생성."}
{"id":"cuggu-jem","title":"청첩장 공유 기능","description":"카카오톡 공유 (Open Graph 최적화), QR 코드 생성, 링크 복사, nanoid URL 생성","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-03T14:34:44.157468+09:00","created_by":"jyk","updated_at":"2026-02-06T18:27:28.587716+09:00","closed_at":"2026-02-06T18:27:28.587716+09:00","close_reason":"카카오톡 SDK 공유 구현 완료. ShareBar 3버튼 레이아웃. Kakao.Share.sendDefault() 피드 카드.","labels":["frontend"],"dependencies":[{"issue_id":"cuggu-jem","depends_on_id":"cuggu-l2i","type":"blocks","created_at":"2026-02-03T14:40:09.618365+09:00","created_by":"jyk"},{"issue_id":"cuggu-jem","depends_on_id":"cuggu-u2j","type":"blocks","created_at":"2026-02-03T14:40:09.671072+09:00","created_by":"jyk"}]}
{"id":"cuggu-jl6","title":"카카오톡 SDK 공유 기능","description":"카카오톡 공유 API 연동. 커스텀 썸네일/제목/설명 설정, 카카오 SDK 초기화, 공유 버튼 컴포넌트. 공개 청첩장 페이지에서 공유 가능.","status":"closed","priority":0,"issue_type":"feature","owner":"jiyk1308@solbox.com","created_at":"2026-02-09T11:27:31.923612+09:00","created_by":"jykim","updated_at":"2026-02-10T18:12:38.479634+09:00","closed_at":"2026-02-10T18:12:38.479634+09:00","close_reason":"카카오 SDK 공유 기능 구현 완료 (lib/kakao-share.ts + ShareBar)"}
{"id":"cuggu-jm7r","title":"배치 Job 미사용 크레딧 자동 환불","status":"closed","priority":1,"issue_type":"feature","owner":"jiyk1308@solbox.com","created_at":"2026-02-19T10:24:29.370102+09:00","created_by":"jykim","updated_at":"2026-02-19T10:42:21.897204+09:00","closed_at":"2026-02-19T10:42:21.897204+09:00","close_reason":"서버 자동완료 + cron 안전망 + 앨범 결과 배너 구현 완료"}
{"id":"cuggu-jn9","title":"AI 테마 부분 수정 기능","description":"'색상만 바꿔줘', '폰트만 세리프로' 같은 부분 수정 요청 지원. 기존 테마를 기반으로 특정 속성만 변경하는 기능. 고객 관점에서 가장 가치 높은 AI UX 개선. 참고: docs/diary/2026-02-10_theme-multi-model-and-mode-ux.md","status":"open","priority":3,"issue_type":"feature","owner":"jiyk1308@solbox.com","created_at":"2026-02-10T14:29:22.67089+09:00","created_by":"jykim","updated_at":"2026-02-10T14:29:22.67089+09:00"}
{"id":"cuggu-jrk","title":"extendedData safeParse 실패 시 데이터 보존 방어 로직","status":"closed","priority":1,"issue_type":"bug","owner":"jiyk1308@solbox.com","created_at":"2026-02-11T09:56:39.164998+09:00","created_by":"jykim","updated_at":"2026-02-11T20:03:12.783974+09:00","closed_at":"2026-02-11T20:03:12.783974+09:00","close_reason":"PUT route에 deep merge + safeParse 실패 시 400 반환 구현 완료"}
{"id":"cuggu-jrt","title":"D-Day 달력 위젯 구현","description":"예식 정보 섹션에 달력/카운트다운 위젯 추가. 3가지 스타일: calendar(미니 달력 그리드), countdown(D-Day 대형 숫자), minimal(타이포 중심). settings.calendarStyle로 선택. 순수 React, 외부 라이브러리 불필요. 경쟁사 대비 '심각' 격차 항목.","status":"closed","priority":1,"issue_type":"feature","owner":"jiyk1308@solbox.com","created_at":"2026-02-06T17:47:09.513825+09:00","created_by":"jykim","updated_at":"2026-02-11T20:03:14.42828+09:00","closed_at":"2026-02-11T20:03:14.42828+09:00","close_reason":"DDayWidget 3스타일 + 전 템플릿 테마 연동 + CeremonySection 4레이아웃 통합 완료","dependencies":[{"issue_id":"cuggu-jrt","depends_on_id":"cuggu-cul","type":"blocks","created_at":"2026-02-06T17:47:39.38541+09:00","created_by":"jykim"}]}
{"id":"cuggu-k4w","title":"각 탭에서 extendedData 전송 연결","description":"BasicInfoTab, AccountTab, VenueTab, SettingsTab, GreetingTab에서 실제로 extendedData를 보내도록 수정 필요. 현재 편집기 탭과 DB 간 데이터 정합성 깨짐. PUT API invitationToDbUpdate() 유틸 교체, GET API dbRecordToInvitation() 변환 적용도 포함. 참고: docs/diary/2026-02-05_preview-publish-implementation.md","status":"closed","priority":1,"issue_type":"bug","owner":"jiyk1308@solbox.com","created_at":"2026-02-10T14:37:44.565486+09:00","created_by":"jykim","updated_at":"2026-02-10T17:45:09.404635+09:00","closed_at":"2026-02-10T17:45:09.404635+09:00","close_reason":"invitationToDbUpdate()에 data.extendedData.enabledSections 매핑 추가. 클라이언트 toggleSection → auto-save → PUT 경로에서 enabledSections가 DB에 저장되도록 수정."}
{"id":"cuggu-k5p","title":"[Phase 4] AlbumOnboarding 참조 사진 업로드 단계 추가","description":"AlbumOnboarding.tsx에 참조 사진 업로드 단계 추가. 이미 등록된 참조 사진 있으면 스킵.","status":"closed","priority":1,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-12T18:04:38.684538+09:00","created_by":"jykim","updated_at":"2026-02-12T18:30:00.95474+09:00","closed_at":"2026-02-12T18:30:00.95474+09:00","close_reason":"Closed","dependencies":[{"issue_id":"cuggu-k5p","depends_on_id":"cuggu-4a1","type":"blocks","created_at":"2026-02-12T18:05:07.78655+09:00","created_by":"jykim"}]}
{"id":"cuggu-kdl","title":"공개 청첩장 페이지 구현","description":"비로그인 접근 가능한 공개 청첩장 페이지 (/inv/[id])\n\n구현 내용:\n- 템플릿별 렌더링 (Classic/Modern/Vintage/Floral/Minimal)\n- 비밀번호 보호 (PasswordProtection 컴포넌트)\n- 조회수 자동 증가\n- 공유 버튼 (floating)\n- 404 처리 (삭제/만료된 청첩장)\n- OG 태그 (카카오톡 미리보기)\n- SEO 최적화\n\n기능:\n- 비로그인 접근\n- 쿠키 기반 비밀번호 검증\n- 링크 복사\n- 카카오톡 공유\n- QR 코드 다운로드\n\n참고: docs/invitation-creation-plan.md","status":"closed","priority":1,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-04T11:56:15.04376+09:00","created_by":"jykim","updated_at":"2026-02-06T17:51:02.879493+09:00","closed_at":"2026-02-06T17:51:02.879493+09:00","close_reason":"이미 구현 완료 확인됨. 공개 청첩장 페이지(6개 템플릿, 전 섹션), 카카오맵 지도/길찾기(3종 내비), 주소 검색/Geocoding 모두 동작 중.","dependencies":[{"issue_id":"cuggu-kdl","depends_on_id":"cuggu-ave","type":"blocks","created_at":"2026-02-04T11:56:19.978752+09:00","created_by":"jykim"}]}
{"id":"cuggu-kgz","title":"이미지 최적화 및 CDN 설정","description":"Cloudflare R2 설정, 이미지 최적화 (WebP, lazy loading), CDN 캐싱 설정","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-03T14:34:55.412186+09:00","created_by":"jyk","updated_at":"2026-02-03T14:34:55.412186+09:00","labels":["infra"]}
{"id":"cuggu-krb","title":"AI 테마 다양성 개선: 레이아웃 필드 + 컴포넌트 분기 + 프롬프트 개편","status":"closed","priority":1,"issue_type":"feature","owner":"jiyk1308@solbox.com","created_at":"2026-02-10T14:42:45.316424+09:00","created_by":"jykim","updated_at":"2026-02-10T14:51:05.750024+09:00","closed_at":"2026-02-10T14:51:05.750024+09:00","close_reason":"All 6 steps implemented: schema fields, component branching, safelist, prompt overhaul, random seed, builtin theme differentiation"}
{"id":"cuggu-l2i","title":"기본 템플릿 5개 개발","description":"Figma로 5개 템플릿 디자인 (디자이너 협업), React 컴포넌트 구현 (클래식/모던/빈티지/플로럴/미니멀), AI 사진 영역 최적화, 모바일 반응형","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-03T14:34:28.711351+09:00","created_by":"jyk","updated_at":"2026-02-06T18:27:28.498005+09:00","closed_at":"2026-02-06T18:27:28.498005+09:00","close_reason":"6개 템플릿 구현 완료 확인 (Classic/Modern/Minimal/Floral/Elegant/Natural)","labels":["frontend"],"dependencies":[{"issue_id":"cuggu-l2i","depends_on_id":"cuggu-z3j","type":"blocks","created_at":"2026-02-03T14:40:02.440901+09:00","created_by":"jyk"},{"issue_id":"cuggu-l2i","depends_on_id":"cuggu-6c2","type":"blocks","created_at":"2026-02-03T14:57:45.772798+09:00","created_by":"jyk"}]}
{"id":"cuggu-l5y","title":"StyleSelector 컴포넌트 구현","description":"5가지 웨딩 스타일 선택 컴포넌트 구현\n\n## 파일 위치\n- `app/dashboard/ai-photos/components/StyleSelector.tsx`\n\n## Props\n```typescript\ninterface StyleSelectorProps {\n  selectedStyle: AIStyle | null;\n  onStyleSelect: (style: AIStyle) =\u003e void;\n  disabled?: boolean;\n}\n\ntype AIStyle = 'CLASSIC' | 'MODERN' | 'VINTAGE' | 'ROMANTIC' | 'CINEMATIC';\n```\n\n## 스타일 정보\n- CLASSIC: 전통적인 한국식 웨딩\n- MODERN: 미니멀하고 세련된 스타일\n- VINTAGE: 따뜻한 복고풍\n- ROMANTIC: 부드럽고 몽환적인 분위기\n- CINEMATIC: 드라마틱한 화보 스타일\n\n## UI\n- 5개 버튼 (선택 시 하이라이트)\n- 스타일 설명 툴팁\n\n## 참고\n- docs/ai-photo-frontend-plan.md 섹션 5.2","status":"closed","priority":1,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-04T20:31:29.743511+09:00","created_by":"jykim","updated_at":"2026-02-04T20:37:16.690311+09:00","closed_at":"2026-02-04T20:37:16.690311+09:00","close_reason":"Closed"}
{"id":"cuggu-lar9","title":"랜딩 페이지 4벌 유지 — Hero/CTA 유사 컴포넌트 산재","description":"components/landing-a/, landing-b/, landing-c/, landing/, marketing/ — Hero/CTA 유사 컴포넌트 산재. 공통 컴포넌트 추출 또는 불필요 변형 정리.","status":"open","priority":3,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T16:27:17.398455+09:00","created_by":"jykim","updated_at":"2026-02-20T16:27:17.398455+09:00"}
{"id":"cuggu-ljpl","title":"[공개뷰] RSVP 참석 버튼 aria-pressed 누락","description":"파일: RSVPForm.tsx:152\n문제: 참석/불참 토글 버튼에 aria-pressed 속성이 없음. 스크린 리더가 현재 선택 상태를 알 수 없음.\n수정 방향: aria-pressed={isAttending} 추가. 선택된 버튼에 시각적 피드백과 함께 접근성 상태도 동기화.","status":"open","priority":2,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T16:38:45.47715+09:00","created_by":"jykim","updated_at":"2026-02-20T16:38:45.47715+09:00","labels":["a11y","ui"]}
{"id":"cuggu-m0a","title":"[Phase 2] 크레딧 API 확장 — GET /api/ai/credits","description":"app/api/ai/credits/route.ts 신규. GET → { balance, transactions[] }. 크레딧 잔액 + 최근 거래 이력 조회.","status":"closed","priority":1,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-12T18:04:00.830794+09:00","created_by":"jykim","updated_at":"2026-02-12T18:13:52.10348+09:00","closed_at":"2026-02-12T18:13:52.10348+09:00","close_reason":"Closed","dependencies":[{"issue_id":"cuggu-m0a","depends_on_id":"cuggu-au9","type":"blocks","created_at":"2026-02-12T18:05:06.978676+09:00","created_by":"jykim"}]}
{"id":"cuggu-m5l","title":"Phase 2-3: 히스토리 + 즐겨찾기 탭 + 빈 상태","status":"closed","priority":2,"issue_type":"feature","owner":"jiyk1308@solbox.com","created_at":"2026-02-11T22:19:55.719265+09:00","created_by":"jykim","updated_at":"2026-02-11T22:26:32.668259+09:00","closed_at":"2026-02-11T22:26:32.668259+09:00","close_reason":"HistoryTab(필터+페이지네이션), FavoritesTab(즐겨찾기 토글), GenerationCard, 빈 상태 UI 모두 Phase 1에서 함께 구현"}
{"id":"cuggu-mei","title":"DB 연결 실패 시 페이지 안정성 확보 (타임아웃 + error.tsx)","description":"Supabase DB 타임아웃 시 페이지가 100초+ 멈추는 문제. connect_timeout이 PgBouncer 뒤에서 무의미해지는 구조적 이슈. 쿼리 타임아웃 래퍼(withTimeout), error.tsx 바운더리, 대시보드 에러 UI 추가 필요. 설계 문서: docs/db-resilience-plan.md","status":"open","priority":2,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-13T11:21:37.390691+09:00","created_by":"jykim","updated_at":"2026-02-13T11:21:37.390691+09:00"}
{"id":"cuggu-mi2","title":"계정 삭제 플로우","description":"확인 다이얼로그 + 계정 삭제 API. 사용자 데이터 정리 포함. 참고: docs/diary/2026-02-04_settings-page-implementation.md","status":"open","priority":2,"issue_type":"feature","owner":"jiyk1308@solbox.com","created_at":"2026-02-10T14:37:51.637042+09:00","created_by":"jykim","updated_at":"2026-02-10T14:37:51.637042+09:00","dependencies":[{"issue_id":"cuggu-mi2","depends_on_id":"cuggu-1nn","type":"blocks","created_at":"2026-02-13T15:37:25.227777+09:00","created_by":"jykim"}]}
{"id":"cuggu-mu0n","title":"invalidateInvitationCache await 없음","description":"app/api/invitations/[id]/route.ts:186,270 — fire-and-forget인지 실수인지 불명확. 의도적이면 void 표기, 아니면 await 추가.","status":"open","priority":3,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T16:27:07.091548+09:00","created_by":"jykim","updated_at":"2026-02-20T16:27:07.091548+09:00"}
{"id":"cuggu-n2yj","title":"loading.tsx / error.tsx / not-found.tsx 전무","description":"프로젝트 전체에 loading.tsx, error.tsx, not-found.tsx 0개. 최소 필요: dashboard/loading+error, editor/[id]/loading, admin/loading+error. error.tsx 없으면 서버 컴포넌트 예외 시 전체 앱 크래시.","status":"open","priority":1,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T16:26:02.54655+09:00","created_by":"jykim","updated_at":"2026-02-20T16:26:02.54655+09:00"}
{"id":"cuggu-nvr","title":"콘텐츠 톤 개선 (카피/인사말/에러)","description":"## 배경\n현재 톤이 \"폼 빌더\" 수준. 청첩장은 인생에서 가장 설레는 순간의 산물.\n인사말 예시 3개뿐, 에러 메시지 무미건조, 플레이스홀더가 데이터를 가장.\n\n## 범위\n- 인사말 예시 15~20개 (카테고리: 격식/캐주얼/종교/유머/계절)\n- 플레이스홀더: \"신랑\" → placeholder \"이름을 입력하세요\"\n- 에러 톤: \"필수 정보를 입력해주세요\" → \"조금만 더 채워주세요\"\n- 발행 성공: 감성적 축하 메시지\n- 만료 페이지: \"소중한 날의 기록은 간직됩니다\" 톤\n- 비밀번호 게이트: \"소중한 분만 볼 수 있어요\"\n\n## 참고\n- docs/diary/2026-02-10_invitation-flow-multi-role-review.md (콘텐츠 전략가 섹션)","status":"open","priority":2,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-10T11:42:46.489412+09:00","created_by":"jykim","updated_at":"2026-02-10T11:42:46.489412+09:00"}
{"id":"cuggu-ny0","title":"관리자 페이지: AI 테마 히스토리 + 통계","description":"admin/ai-themes 페이지 + API. 유저별 테마 히스토리, 토큰/비용 모니터링. stats route에 테마 통계 추가","status":"closed","priority":1,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-09T16:26:43.082344+09:00","created_by":"jykim","updated_at":"2026-02-09T16:35:50.433904+09:00","closed_at":"2026-02-09T16:35:50.433904+09:00","close_reason":"admin/ai-themes 페이지+API, AdminNav 항목 추가, stats route에 aiThemes 통계 추가","dependencies":[{"issue_id":"cuggu-ny0","depends_on_id":"cuggu-hay","type":"blocks","created_at":"2026-02-09T16:27:05.965456+09:00","created_by":"jykim"},{"issue_id":"cuggu-ny0","depends_on_id":"cuggu-q21","type":"parent-child","created_at":"2026-02-09T16:27:21.031411+09:00","created_by":"jykim"}]}
{"id":"cuggu-on5g","title":"[공개뷰] --screen-height CSS 변수 미설정 → 모바일 Safari 100vh 버그","description":"파일: CoverSection.tsx:67\n문제: CSS에서 --screen-height 변수를 참조하지만 설정하는 코드가 없음. 모바일 Safari에서 100vh가 주소바 포함 높이라 콘텐츠 잘림.\n수정 방향: useEffect에서 window.innerHeight 기반으로 --screen-height CSS 변수 설정 + resize 이벤트 리스너. 또는 100dvh 사용 (iOS 15.4+).","status":"open","priority":0,"issue_type":"bug","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T16:37:24.353628+09:00","created_by":"jykim","updated_at":"2026-02-20T16:37:24.353628+09:00","labels":["mobile","ui"]}
{"id":"cuggu-oxf","title":"AI 컴포넌트 공유 위치로 이동 (AIStreamingGallery, AIResultGallery, ImageModal)","description":"editor/tabs/gallery/ 하위의 AIStreamingGallery, AIResultGallery, ImageModal을 components/ai/로 이동. 에디터와 대시보드 AI Studio 양쪽에서 재사용 가능하도록.","status":"closed","priority":2,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-11T20:57:29.312712+09:00","created_by":"jykim","updated_at":"2026-02-11T20:59:49.937755+09:00","closed_at":"2026-02-11T20:59:49.937755+09:00","close_reason":"AIStreamingGallery, AIResultGallery, ImageModal을 components/ai/로 이동 완료. 기존 소비자(AIPhotoGenerator, GalleryImageGrid) import 경로 업데이트."}
{"id":"cuggu-p0xa","title":"admin/users conditions.reduce Drizzle 안티패턴","description":"app/api/admin/users/route.ts:47,64 — conditions.reduce로 SQL AND 조합. and(...conditions)로 교체.","status":"open","priority":3,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T16:27:00.009565+09:00","created_by":"jykim","updated_at":"2026-02-20T16:27:00.009565+09:00"}
{"id":"cuggu-p7b","title":"[결제] schemas/payment.ts 리팩터 — Toss→PortOne","description":"Toss 스키마 전체 제거 (TossPaymentApprovalResponseSchema 등 170줄), PortOnePaymentResponseSchema 신규, PaymentMethodSchema TOSS→NAVER_PAY, ApprovePaymentRequestSchema→CompletePaymentRequestSchema 변경. 참고: docs/payment-flow-design.md §6","status":"open","priority":1,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-13T16:40:37.612534+09:00","created_by":"jykim","updated_at":"2026-02-13T16:40:37.612534+09:00","labels":["backend","payment"],"dependencies":[{"issue_id":"cuggu-p7b","depends_on_id":"cuggu-ae6","type":"blocks","created_at":"2026-02-13T16:41:10.115966+09:00","created_by":"jykim"}]}
{"id":"cuggu-pk0g","title":"[공개뷰] RSVP 제출 후 수정 불가 — UX 막다른 길","description":"파일: RSVPForm.tsx\n문제: RSVP 제출 후 '감사합니다' 메시지만 표시되고 수정 방법이 없음. 참석 여부나 동행 인원을 변경할 수 없는 막다른 길.\n수정 방향: 제출 완료 화면에 '수정하기' 버튼 추가. localStorage에 제출 기록 저장하여 재방문 시 기존 응답 표시 + 수정 허용.","status":"open","priority":2,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T16:38:58.461371+09:00","created_by":"jykim","updated_at":"2026-02-20T16:38:58.461371+09:00","labels":["ui","ux"]}
{"id":"cuggu-pp1u","title":"invitations 테이블 updatedAt 인덱스 없음","description":"invitations 테이블에 updatedAt 인덱스가 없음. 대시보드 최신순 정렬 쿼리 성능 개선을 위해 인덱스 추가.","status":"open","priority":3,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T16:27:38.588528+09:00","created_by":"jykim","updated_at":"2026-02-20T16:27:38.588528+09:00"}
{"id":"cuggu-prh","title":"ResultGallery 컴포넌트 구현","description":"생성된 4장 이미지 표시 및 선택 컴포넌트\n\n## 파일 위치\n- `app/dashboard/ai-photos/components/ResultGallery.tsx`\n\n## Props\n```typescript\ninterface ResultGalleryProps {\n  role: 'GROOM' | 'BRIDE';\n  images: string[];\n  selectedImage: string | null;\n  onSelectImage: (url: string) =\u003e void;\n  onRegenerate: () =\u003e void;\n  remainingCredits: number;\n}\n```\n\n## 기능\n- 2×2 Grid 레이아웃\n- 클릭 시 선택 표시 (체크마크)\n- 재생성 버튼 (크레딧 1개 소모 표시)\n- Framer Motion 애니메이션\n- 선택된 이미지 하이라이트\n\n## 참고\n- docs/ai-photo-frontend-plan.md 섹션 5.3","status":"closed","priority":1,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-04T20:31:38.099575+09:00","created_by":"jykim","updated_at":"2026-02-04T20:37:52.940143+09:00","closed_at":"2026-02-04T20:37:52.940143+09:00","close_reason":"Closed"}
{"id":"cuggu-q21","title":"AI 테마 라이브러리 — DB 저장 + 히스토리 관리","description":"AI 생성 테마를 DB에 영구 저장하고, 에디터에서 이전 테마 불러오기/적용, 관리자 페이지 모니터링","status":"closed","priority":1,"issue_type":"feature","owner":"jiyk1308@solbox.com","created_at":"2026-02-09T16:26:25.282812+09:00","created_by":"jykim","updated_at":"2026-02-09T16:35:50.480072+09:00","closed_at":"2026-02-09T16:35:50.480072+09:00","close_reason":"전체 구현 완료"}
{"id":"cuggu-qeoi","title":"AI generate 배치 루프 직렬 실행","description":"lib/ai/generate.ts:44-58 — BATCH_SIZE=4일 때 4개 이미지 순차 생성. 비스트리밍 버전은 Promise.all 병렬 처리 가능.","status":"open","priority":3,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T16:27:42.12692+09:00","created_by":"jykim","updated_at":"2026-02-20T16:27:42.12692+09:00"}
{"id":"cuggu-qh4","title":"갤러리 탭 AI 사진 기능 노출 강화","description":"사이드바에서 AI 기능 존재를 알 수 있도록 갤러리 탭 description 변경 + AI 뱃지 추가. 변경파일: tabs.ts, SectionPanel.tsx","status":"closed","priority":2,"issue_type":"feature","owner":"jiyk1308@solbox.com","created_at":"2026-02-09T15:09:40.590779+09:00","created_by":"jykim","updated_at":"2026-02-09T15:12:00.804752+09:00","closed_at":"2026-02-09T15:12:00.804752+09:00","close_reason":"갤러리 탭 description 변경 + AI 뱃지 추가 완료"}
{"id":"cuggu-qj7","title":"에디터 온보딩 위자드/가이드","description":"## 배경\n생성 즉시 빈 8탭 에디터로 던져짐. 가이드/투어/진행률 없음.\n\"뭘 먼저 해야 하지?\" → 이탈 위험.\n\n## 선택지\n- A. 퀵 위자드: 첫 생성 시 3단계 모달 (이름 → 날짜/장소 → 템플릿) → 에디터\n- B. 가이드 오버레이: 에디터 진입 시 필수 탭 하이라이트 + 안내 문구\n\n## 참고\n- 인사말 탭의 예시 문구 원클릭 삽입이 UX 롤모델\n- docs/diary/2026-02-10_improvement-priority-roadmap.md","status":"closed","priority":1,"issue_type":"feature","owner":"jiyk1308@solbox.com","created_at":"2026-02-10T11:42:23.805894+09:00","created_by":"jykim","updated_at":"2026-02-10T15:53:08.56044+09:00","closed_at":"2026-02-10T15:53:08.56044+09:00","close_reason":"3단계 퀵 위자드 구현 완료 (템플릿→이름→날짜/장소). develop 머지됨."}
{"id":"cuggu-qk1k","title":"갤러리 탭 UX 개선 — 모달 분리 + 업로드 인라인화","status":"closed","priority":2,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-19T14:59:32.705105+09:00","created_by":"jykim","updated_at":"2026-02-19T14:59:37.000721+09:00","closed_at":"2026-02-19T14:59:37.000721+09:00","close_reason":"기기 업로드 인라인화, AddPhotosModal→AlbumPickerModal 분리, empty state 개선, 모바일 버튼 상시 표시 완료"}
{"id":"cuggu-qka","title":"청첩장 목록 페이지 구현","description":"내 청첩장 목록 페이지 (/dashboard/invitations)\n\n구현 내용:\n- InvitationList 컴포넌트\n- InvitationCard 컴포넌트 (수정/공유/통계/삭제 버튼)\n- EmptyState 컴포넌트\n- Pagination 컴포넌트\n- API 연동\n- 삭제 확인 모달\n- 공유 링크 복사 기능\n\nUI:\n- 카드 레이아웃\n- 상태별 뱃지 (DRAFT/PUBLISHED)\n- 조회수, RSVP 통계 표시\n\n참고: docs/invitation-creation-plan.md","status":"closed","priority":1,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-04T11:56:01.032548+09:00","created_by":"jykim","updated_at":"2026-02-11T20:03:12.195798+09:00","closed_at":"2026-02-11T20:03:12.195798+09:00","close_reason":"대시보드 + /dashboard/invitations/ 목록 + InvitationCard + API GET/POST 전부 구현 완료"}
{"id":"cuggu-qyp","title":"공개 청첩장 캐싱 레이어 (ISR/Redis)","description":"inv/[id]/page.tsx에서 매 요청마다 DB 쿼리 2회 + viewCount UPDATE. 캐시 없음. 결혼식 전 카카오톡 공유 트래픽 집중 시 DB 직격. ISR(revalidate) 또는 Redis 캐시 적용, viewCount 배치 처리 필요.","notes":"## 2/13 설계 결정\n\n### 방식: Upstash Redis 캐시 (ISR 불가 — cookies()/auth() 사용으로 dynamic forced)\n\n### 구현 계획\n1. lib/invitation-cache.ts 신규 — getInvitationCached(id), invalidateInvitationCache(id)\n2. PUBLISHED만 캐싱 (TTL 5분), DRAFT는 항상 DB 직접 조회\n3. viewCount → Redis INCR로 배치 처리 (매 요청 UPDATE 제거)\n4. 에디터 저장/발행 시 캐시 invalidate\n5. getRedis()를 lib/rate-limit.ts에서 export\n\n### 변경 파일\n- lib/invitation-cache.ts (신규)\n- app/inv/[id]/page.tsx\n- app/api/invitations/[id]/route.ts\n- lib/rate-limit.ts\n\n### AWS 마이그레이션 대비\nUpstash → ElastiCache Serverless 전환 시 Redis 클라이언트만 교체하면 됨. 캐시 로직은 invitation-cache.ts에 격리.","status":"closed","priority":1,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-10T17:13:01.336267+09:00","created_by":"jykim","updated_at":"2026-02-13T10:48:02.45375+09:00","closed_at":"2026-02-13T10:48:02.45375+09:00","close_reason":"구현 완료. lib/invitation-cache.ts 신규 생성 (Upstash Redis 캐시 + viewCount 배치). page.tsx에서 getInvitationCached/getInvitationMetaCached 사용. 에디터 저장/삭제 시 invalidateInvitationCache 호출."}
{"id":"cuggu-r6d8","title":"[에디터] 업로드 실패 시 에러 미표시 (EndingTab, SettingsTab OG)","description":"파일: EndingTab.tsx:56, SettingsTab.tsx:129\n문제: 이미지 업로드 실패 시 사용자에게 에러 메시지가 표시되지 않음. try-catch가 콘솔 로그만 하고 UI 피드백 없음.\n수정 방향: catch 블록에서 toast 또는 인라인 에러 메시지 표시. '파일 크기 초과', '네트워크 오류' 등 구체적 메시지.","status":"open","priority":1,"issue_type":"bug","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T16:38:17.434851+09:00","created_by":"jykim","updated_at":"2026-02-20T16:38:17.434851+09:00","labels":["editor","ui"]}
{"id":"cuggu-r82","title":"갤러리-앨범 플로우 재설계 — 갤러리 AI 생성 제거, 앨범에서 불러오기","description":"현재 갤러리 탭(GalleryTab)에 AI 사진 생성 기능이 직접 들어가 있음. 이를 제거하고, 앨범(AI Photos)에서 생성한 사진을 갤러리로 불러오기(import) 하는 방식으로 전환.\n\n변경 범위:\n1. GalleryTab에서 AIPhotoGenerator 섹션 제거 → '앨범에서 불러오기' CTA로 교체\n2. 앨범에서 사진 선택 → 갤러리로 import하는 UI/API 플로우\n3. 기존 apply API 재활용 가능 (app/api/ai/albums/[id]/apply, app/api/ai/generations/apply)\n4. 갤러리 ↔ 앨범 간 사진 동기화 정책 결정 (복사 vs 참조)\n\n관련 이슈:\n- cuggu-6h7: 에디터 GalleryTab AI 섹션 제거 → CTA 카드 교체 (하위 작업)\n- 설계 문서 필요","status":"closed","priority":2,"issue_type":"feature","owner":"jiyk1308@solbox.com","created_at":"2026-02-13T15:51:16.190059+09:00","created_by":"jykim","updated_at":"2026-02-19T14:38:42.821416+09:00","closed_at":"2026-02-19T14:38:42.821416+09:00","close_reason":"AddPhotosModal 통합 모달 구현, GalleryTab 재설계, 4개 파일 삭제 완료"}
{"id":"cuggu-rci","title":"에디터 기본값 placeholder 전환 (신랑/신부/예식장)","description":"청첩장 생성 시 '신랑'/'신부'/'예식장'이 placeholder가 아닌 실제 데이터로 저장됨. 발행 검증에서 특수 로직(name==='신랑')으로 체크하는 구조. 빈 문자열 + HTML placeholder로 전환 필요.","status":"closed","priority":1,"issue_type":"bug","owner":"jiyk1308@solbox.com","created_at":"2026-02-10T17:13:04.322027+09:00","created_by":"jykim","updated_at":"2026-02-10T18:20:19.482559+09:00","closed_at":"2026-02-10T18:20:19.482559+09:00","close_reason":"기본값을 빈 문자열로 전환, 발행 검증 단순화 (=== 특수 문자열 비교 제거)"}
{"id":"cuggu-rfik","title":"[공개뷰] 전체 section에 aria-label 없음","description":"파일: 모든 섹션 컴포넌트 (CoverSection, GreetingSection, VenueSection, GallerySection, AccountsSection, RSVPSection, GuestbookSection)\n문제: 시맨틱 section 태그에 aria-label이 없어 스크린 리더 사용자가 섹션 간 내비게이션이 어려움.\n수정 방향: 각 섹션에 aria-label 추가 (예: aria-label='인사말', aria-label='오시는 길' 등).","status":"open","priority":2,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T16:38:45.587153+09:00","created_by":"jykim","updated_at":"2026-02-20T16:38:45.587153+09:00","labels":["a11y","ui"]}
{"id":"cuggu-rg6n","title":"[대시보드] disabled 상태 처리 불일치 (opacity vs color swap)","description":"파일: 다수 대시보드 파일\n문제: 비활성 버튼 처리가 opacity-50인 곳과 bg-gray-200 text-gray-400으로 바꾸는 곳이 혼재.\n수정 방향: disabled:opacity-50 disabled:cursor-not-allowed 패턴으로 통일. Button 공통 컴포넌트에서 기본 처리.","status":"open","priority":2,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T16:39:26.365841+09:00","created_by":"jykim","updated_at":"2026-02-20T16:39:26.365841+09:00","labels":["dashboard","design-system","ui"]}
{"id":"cuggu-rke","title":"AI 사진 생성 시스템 (핵심 기능)","description":"Replicate API 연동, Azure Face API 얼굴 감지, 배치 생성 (4장), 크레딧 시스템 구현, S3/R2 업로드","notes":"상세 구현 계획: docs/ai-generation-plan.md 참고\n\n주요 구현 파일:\n- lib/ai/credits.ts (크레딧 로직)\n- lib/ai/face-detection.ts (얼굴 감지)\n- lib/ai/replicate.ts (AI 생성)\n- lib/ai/s3.ts (파일 업로드)\n- app/api/ai/generate/route.ts (메인 API)\n- app/api/ai/generations/route.ts (이력 조회)\n- app/api/ai/select/route.ts (최종 선택)\n\n환경 변수 필요:\n- REPLICATE_API_TOKEN\n- AZURE_FACE_API_KEY\n- AZURE_FACE_ENDPOINT\n- AWS_REGION\n- AWS_ACCESS_KEY_ID\n- AWS_SECRET_ACCESS_KEY\n- S3_BUCKET_NAME\n- UPSTASH_REDIS_REST_URL\n- UPSTASH_REDIS_REST_TOKEN","status":"closed","priority":0,"issue_type":"task","created_at":"2026-02-03T14:34:36.777109+09:00","created_by":"jyk","updated_at":"2026-02-04T20:09:44.93832+09:00","closed_at":"2026-02-04T20:09:44.93832+09:00","close_reason":"Mock 테스트로 AI 사진 생성 시스템 검증 완료. 38개 테스트 전부 통과 (API 통합 14 + 크레딧 14 + invitations 10)","labels":["ai","backend","backend:ai"],"dependencies":[{"issue_id":"cuggu-rke","depends_on_id":"cuggu-1fd","type":"blocks","created_at":"2026-02-03T14:40:06.208009+09:00","created_by":"jyk"},{"issue_id":"cuggu-rke","depends_on_id":"cuggu-a1e","type":"blocks","created_at":"2026-02-04T19:34:17.529275+09:00","created_by":"jykim"}]}
{"id":"cuggu-rqq","title":"다양한 가족 형태 지원 (한부모/고인/익명 표기)","description":"**목표**: 한부모/사별/재혼 등 다양한 가족 형태에 대응하는 청첩장 표기\n\n**구현 내용**:\n1. DB 스키마 수정 (groom_family/bride_family JSONB)\n2. BasicInfoTab 가족 표기 모드 선택 UI\n3. formatFamilyName() 유틸 함수\n4. 템플릿 렌더링 로직 개선\n5. 마이그레이션 스크립트\n\n**지원 케이스**:\n- 양부모 (기본): 홍판서·김씨의 장남\n- 한부모: 김씨의 장남 / 홍판서의 장남\n- 고인 표기: 故 홍판서·김씨의 장남\n- 익명: 부·모의 장남\n- 본인만: 홍길동\n\n**참고**: docs/family-structure-requirements.md","status":"closed","priority":1,"issue_type":"feature","owner":"jiyk1308@solbox.com","created_at":"2026-02-04T18:05:45.78874+09:00","created_by":"jykim","updated_at":"2026-02-09T14:38:41.401402+09:00","closed_at":"2026-02-09T14:38:41.401402+09:00","close_reason":"self_only 모드(부모님 표기 안 함) + 관계 직접입력 추가. 기존 3모드(양부모/한부모) + 고인 표기는 이미 구현돼 있었음"}
{"id":"cuggu-rr6c","title":"[대시보드] guestbook 통계 grid 3-col 모바일 반응형 없음","description":"파일: guestbook/page.tsx:204\n문제: 방명록 통계 카드가 grid-cols-3 고정. 모바일에서 카드가 너무 좁아 텍스트 잘림/줄바꿈.\n수정 방향: grid-cols-1 sm:grid-cols-3으로 반응형 처리.","status":"open","priority":2,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T16:39:26.492792+09:00","created_by":"jykim","updated_at":"2026-02-20T16:39:26.492792+09:00","labels":["dashboard","mobile","ui"]}
{"id":"cuggu-rx32","title":"앨범 상세 UX 개선 — Drawer + 프리뷰 + 선택 + 다운로드 + 큐레이션 리팩터","status":"closed","priority":1,"issue_type":"feature","owner":"jiyk1308@solbox.com","created_at":"2026-02-19T15:24:06.500988+09:00","created_by":"jykim","updated_at":"2026-02-19T15:28:35.682568+09:00","closed_at":"2026-02-19T15:28:35.682568+09:00","close_reason":"Drawer + 프리뷰 + 선택/다운로드 + 큐레이션 드래그 제거 구현 완료"}
{"id":"cuggu-rye","title":"배경음악(BGM) 재생 기능","description":"로열티 프리 웨딩 BGM 5-8곡 큐레이션, 플로팅 재생/일시정지 버튼, 자동재생 옵션. S3/CloudFront 음원 저장, HTML5 audio preload=none, iOS Safari 자동재생 제한 대응.","notes":"[로드맵 리뷰] P3→P4. 자동재생 BGM은 2026년 UX 안티패턴.","status":"open","priority":4,"issue_type":"feature","owner":"jiyk1308@solbox.com","created_at":"2026-02-09T11:27:14.780281+09:00","created_by":"jykim","updated_at":"2026-02-10T17:13:29.799378+09:00"}
{"id":"cuggu-s2k","title":"방명록(Guestbook) 구현","description":"공개 축하 메시지 보드 (RSVP와 별개). guestbook_entries 테이블 신설. 이름+메시지, 인증 불필요. 주인이 부적절한 메시지 숨김 가능. 최신순 정렬, 페이지네이션(10개씩). Upstash Redis 레이트 리밋(IP당 분당 3회). API: POST/GET /api/invitations/[id]/guestbook","notes":"[로드맵 리뷰] P2→P1 승격. UX Analyst: 한국 청첩장에서 방명록은 사실상 필수 기능. 경쟁사 전부 제공.","status":"closed","priority":1,"issue_type":"feature","owner":"jiyk1308@solbox.com","created_at":"2026-02-06T17:47:22.814413+09:00","created_by":"jykim","updated_at":"2026-02-20T14:39:32.595928+09:00","closed_at":"2026-02-20T14:39:32.595928+09:00","close_reason":"방명록 기능 전체 구현 완료 — 비속어필터, DB, API, 공개뷰, 대시보드, 에디터탭, 활성/비활성 표시"}
{"id":"cuggu-s3k","title":"Phase 1: 페이지 리스트럭처 + 탭 시스템 + 컴포넌트","status":"closed","priority":1,"issue_type":"feature","owner":"jiyk1308@solbox.com","created_at":"2026-02-11T22:19:54.588868+09:00","created_by":"jykim","updated_at":"2026-02-11T22:26:27.082264+09:00","closed_at":"2026-02-11T22:26:27.082264+09:00","close_reason":"탭 시스템(Generate/History/Favorites) + 컴포넌트 6개 + 적용 모달 + 토스트 + DashboardNav 라벨"}
{"id":"cuggu-skhu","title":"EditorPanel 탭 언마운트/리마운트 → API 중복 호출","description":"components/editor/EditorPanel.tsx:24-49 — 탭 전환마다 이전 탭 언마운트 → 새 탭 마운트. TemplateTab 마운트 시 fetchThemes() 호출. CSS hidden 또는 SWR/React Query dedup 또는 Zustand 캐싱으로 해결.","status":"open","priority":2,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T16:26:34.358281+09:00","created_by":"jykim","updated_at":"2026-02-20T16:26:34.358281+09:00"}
{"id":"cuggu-skm","title":"Admin 템플릿 선택 UI 구현","description":"청첩장 생성 시 템플릿을 선택할 수 있는 UI 구현\n\n**위치:** /admin/invitations/new 또는 /admin/templates\n\n**기능:**\n- 템플릿 목록 (그리드 형태, 썸네일)\n- 템플릿 클릭 시 미리보기 모달 또는 사이드 패널\n- 선택 버튼 (이 템플릿으로 시작하기)\n- 템플릿 필터링 (카테고리: Classic, Modern, Vintage, Floral, Minimal)\n\n**UI 컴포넌트:**\n- TemplateCard (썸네일, 이름, 카테고리, Free/Premium)\n- TemplatePreviewModal (전체 화면 미리보기)\n- TemplateGrid (반응형 그리드 레이아웃)\n\n**참고:**\n- 현재 /templates/preview 페이지 있음 (Classic 템플릿)\n- 이 preview를 모달이나 iframe으로 보여주기\n\n**우선순위:** 청첩장 생성 기능(Day 2-3)에 포함","status":"open","priority":2,"issue_type":"feature","owner":"jiyk1308@solbox.com","created_at":"2026-02-03T18:35:02.038582+09:00","created_by":"jykim","updated_at":"2026-02-03T18:35:02.038582+09:00"}
{"id":"cuggu-sl7","title":"[Phase 4] AlbumDashboard 리팩터링 (900줄→500줄)","description":"handleGenerate→useAIGeneration 훅, 추가 촬영 섹션(680-778행)→GenerationWizard, RoleState→훅 내부. 잔여: 앨범 헤더, 그룹/태그, 큐레이션, 생성 기록, 레거시.","status":"closed","priority":1,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-12T18:04:35.217853+09:00","created_by":"jykim","updated_at":"2026-02-12T18:30:00.951959+09:00","closed_at":"2026-02-12T18:30:00.951959+09:00","close_reason":"Closed","dependencies":[{"issue_id":"cuggu-sl7","depends_on_id":"cuggu-tmw","type":"blocks","created_at":"2026-02-12T18:05:07.650656+09:00","created_by":"jykim"},{"issue_id":"cuggu-sl7","depends_on_id":"cuggu-5wo","type":"blocks","created_at":"2026-02-12T18:05:07.714438+09:00","created_by":"jykim"}]}
{"id":"cuggu-ssa","title":"AI 서비스 분리 설계 (Phase 2 대비)","description":"AI API endpoint 분리 설계 (/api/ai/*), 환경변수로 AI 서비스 URL 분리 가능하게, 인터페이스 정의 (추후 NestJS 마이그레이션 용이), API 스펙 문서화","notes":"[로드맵 리뷰] P1→P4 강등. YAGNI. Phase 1도 안 끝났는데 Phase 2 설계 불필요. 현재 lib/ai/providers/ 구조 충분.","status":"open","priority":4,"issue_type":"task","created_at":"2026-02-03T15:15:01.484162+09:00","created_by":"jyk","updated_at":"2026-02-10T17:13:19.134824+09:00","labels":["architecture","backend:ai"]}
{"id":"cuggu-st5l","title":"[공개뷰] Gallery \u003cdiv onClick\u003e 키보드 접근 불가","description":"파일: GallerySection.tsx:70\n문제: 갤러리 이미지가 div onClick으로 구현되어 키보드 탭/엔터로 접근 불가. role, tabIndex, onKeyDown 모두 없음.\n수정 방향: button 엘리먼트로 교체하거나, role='button' tabIndex={0} onKeyDown={handleEnter} 추가.","status":"open","priority":1,"issue_type":"bug","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T16:37:46.994302+09:00","created_by":"jykim","updated_at":"2026-02-20T16:37:46.994302+09:00","labels":["a11y","ui"]}
{"id":"cuggu-tmw","title":"[Phase 4] GenerationWizard 4스텝 플로우 컴포넌트","description":"app/dashboard/ai-photos/components/ 하위: GenerationWizard.tsx(4스텝 관리+AnimatePresence), ModeSelectStep.tsx(묶음/개별 카드), StyleConfigStep.tsx(모드별 스타일/장수), CreditConfirmStep.tsx(크레딧 확인 P0 필수). Phase 3 완료 후 가능.","status":"closed","priority":1,"issue_type":"feature","owner":"jiyk1308@solbox.com","created_at":"2026-02-12T18:04:24.580878+09:00","created_by":"jykim","updated_at":"2026-02-12T18:24:11.946834+09:00","closed_at":"2026-02-12T18:24:11.946834+09:00","close_reason":"Closed","dependencies":[{"issue_id":"cuggu-tmw","depends_on_id":"cuggu-2cq","type":"blocks","created_at":"2026-02-12T18:05:07.448821+09:00","created_by":"jykim"},{"issue_id":"cuggu-tmw","depends_on_id":"cuggu-8ou","type":"blocks","created_at":"2026-02-12T18:05:07.519652+09:00","created_by":"jykim"}]}
{"id":"cuggu-treh","title":"[대시보드] 모바일 네비게이션 없음 — 사이드바 256px 고정, 모바일 붕괴","description":"파일: DashboardNav.tsx, app/(dashboard)/layout.tsx\n문제: 사이드바가 w-64(256px) 고정. 모바일에서 화면 대부분을 차지하거나 뷰포트 밖으로 밀림. 햄버거 메뉴/바텀탭 등 모바일 네비게이션 없음.\n수정 방향: 모바일에서 사이드바 hidden + 햄버거 메뉴 오버레이 또는 바텀 네비게이션. lg 브레이크포인트 기준으로 전환.","status":"open","priority":0,"issue_type":"bug","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T16:37:33.367648+09:00","created_by":"jykim","updated_at":"2026-02-20T16:37:33.367648+09:00","labels":["dashboard","mobile","ui"]}
{"id":"cuggu-tul","title":"인증 시스템 구현 (NextAuth.js)","description":"NextAuth.js v5 설정, 카카오 로그인 연동, 이메일 로그인, 세션 관리, 미들웨어 설정","status":"closed","priority":0,"issue_type":"task","created_at":"2026-02-03T14:34:24.707641+09:00","created_by":"jyk","updated_at":"2026-02-03T17:57:12.773949+09:00","closed_at":"2026-02-03T17:57:12.773949+09:00","close_reason":"Closed","labels":["auth"],"dependencies":[{"issue_id":"cuggu-tul","depends_on_id":"cuggu-z3j","type":"blocks","created_at":"2026-02-03T14:40:02.387676+09:00","created_by":"jyk"}]}
{"id":"cuggu-u2j","title":"드래그 앤 드롭 편집기 구현","description":"dnd-kit 라이브러리 사용, 텍스트/이미지 편집 기능, 실시간 미리보기, 상태 관리 (Zustand)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-03T14:34:32.475325+09:00","created_by":"jyk","updated_at":"2026-02-06T18:27:28.544578+09:00","closed_at":"2026-02-06T18:27:28.544578+09:00","close_reason":"편집기 구현 완료 확인 (탭 기반 폼 편집기 + 섹션 순서 변경)","labels":["frontend"],"dependencies":[{"issue_id":"cuggu-u2j","depends_on_id":"cuggu-1fd","type":"blocks","created_at":"2026-02-03T14:40:06.154738+09:00","created_by":"jyk"}]}
{"id":"cuggu-u6i","title":"Next.js auth middleware 추가","status":"closed","priority":1,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-14T17:12:25.060746+09:00","created_by":"jykim","updated_at":"2026-02-14T17:16:04.428152+09:00","closed_at":"2026-02-14T17:16:04.428152+09:00","close_reason":"proxy.ts가 이미 공식 미들웨어. middleware.ts 삭제하고 proxy.ts에 통합."}
{"id":"cuggu-udn","title":"갤러리 업로드 한도 체크 TOCTOU — 트랜잭션 안으로 이동","description":"upload/gallery의 갤러리 한도 체크(step 5)가 트랜잭션 밖에서 수행됨. 동시 업로드 시 두 요청 모두 한도 통과 후 초과 가능. 한도 체크를 tx 내부로 이동하거나, tx 내에서 재검증 필요. 1-4 Apply 경쟁 조건 수정에서 발견.","status":"open","priority":3,"issue_type":"bug","owner":"jiyk1308@solbox.com","created_at":"2026-02-13T15:55:54.863718+09:00","created_by":"jykim","updated_at":"2026-02-13T15:55:54.863718+09:00"}
{"id":"cuggu-upic","title":"console.log에 개인정보 노출","description":"app/editor/[id]/page.tsx:49-51 (초대장 전체 데이터), app/admin/layout.tsx:15,27 (이메일, DB role). 삭제 또는 development 환경 guard 추가 필요.","status":"open","priority":0,"issue_type":"bug","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T16:25:35.090787+09:00","created_by":"jykim","updated_at":"2026-02-20T16:25:35.090787+09:00"}
{"id":"cuggu-uu77","title":"[공개뷰] ShareBar execCommand copy deprecated","description":"파일: ShareBar.tsx:16\n문제: document.execCommand('copy') 사용 중. MDN에서 deprecated로 표기되어 향후 브라우저에서 제거될 수 있음.\n수정 방향: navigator.clipboard.writeText()로 교체. Clipboard API 미지원 브라우저용 fallback은 현행 유지.","status":"open","priority":3,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T16:39:41.106876+09:00","created_by":"jykim","updated_at":"2026-02-20T16:39:41.106876+09:00","labels":["refactor","ui"]}
{"id":"cuggu-uue3","title":"replicateId deprecated 컬럼 잔존","description":"db/schema.ts:271 — deprecated된 replicateId 컬럼이 스키마에 남아있음. 마이그레이션 후 제거.","status":"open","priority":3,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T16:27:35.170242+09:00","created_by":"jykim","updated_at":"2026-02-20T16:27:35.170242+09:00"}
{"id":"cuggu-vcx","title":"[Phase 2] NestJS AI 마이크로서비스 구축","description":"ComfyUI self-hosting (GPU 서버), AI 모델 fine-tuning (LoRA), 이미지 처리 파이프라인, /api/ai/* → NestJS 마이그레이션, 비용 최적화 (Replicate 대비)","notes":"[로드맵 리뷰] P3→P4. YAGNI 교과서. Replicate API로 충분. 월 $500+ 나올 때 재검토.","status":"open","priority":4,"issue_type":"task","created_at":"2026-02-03T15:15:16.216213+09:00","created_by":"jyk","updated_at":"2026-02-10T17:13:25.030425+09:00","labels":["backend:ai","phase2"]}
{"id":"cuggu-vdk","title":"AI Photos 페이지 메인 로직 구현","description":"AI 사진 생성 페이지의 메인 로직 및 상태 관리\n\n## 파일 위치\n- `app/dashboard/ai-photos/page.tsx`\n\n## 상태 관리\n### 신랑\n- groomImage: File | null\n- groomStyle: AIStyle | null\n- groomGenerating: boolean\n- groomResult: { id, urls, selected } | null\n\n### 신부 (동일 구조)\n- brideImage, brideStyle, brideGenerating, brideResult\n\n### 공통\n- credits: number\n- error: string | null\n\n## API 연동\n1. `/api/user/credits` - 크레딧 조회\n2. `/api/ai/generate` - AI 생성 요청\n\n## UX 플로우\n1. 초기: 크레딧 표시 + 업로드 UI\n2. 업로드 → 스타일 선택 활성화\n3. 생성 버튼 → GenerationProgress\n4. 완료 → ResultGallery\n5. 양쪽 완료 시 \"청첩장에 적용\" 버튼\n\n## 참고\n- docs/ai-photo-frontend-plan.md 섹션 4, 6, 7","status":"closed","priority":1,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-04T20:31:48.696504+09:00","created_by":"jykim","updated_at":"2026-02-04T20:38:33.659394+09:00","closed_at":"2026-02-04T20:38:33.659394+09:00","close_reason":"Closed","dependencies":[{"issue_id":"cuggu-vdk","depends_on_id":"cuggu-i4g","type":"blocks","created_at":"2026-02-04T20:32:20.788146+09:00","created_by":"jykim"},{"issue_id":"cuggu-vdk","depends_on_id":"cuggu-6b1","type":"blocks","created_at":"2026-02-04T20:32:20.830837+09:00","created_by":"jykim"},{"issue_id":"cuggu-vdk","depends_on_id":"cuggu-l5y","type":"blocks","created_at":"2026-02-04T20:32:20.872339+09:00","created_by":"jykim"},{"issue_id":"cuggu-vdk","depends_on_id":"cuggu-a5f","type":"blocks","created_at":"2026-02-04T20:32:20.914647+09:00","created_by":"jykim"},{"issue_id":"cuggu-vdk","depends_on_id":"cuggu-prh","type":"blocks","created_at":"2026-02-04T20:32:20.958621+09:00","created_by":"jykim"}]}
{"id":"cuggu-vkc","title":"Admin grant_credits race condition 수정","description":"admin/users POST grant_credits에서 READ-THEN-WRITE 패턴. sql`aiCredits + amount`로 atomic 연산 변경 필요.","status":"closed","priority":1,"issue_type":"bug","owner":"jiyk1308@solbox.com","created_at":"2026-02-14T17:09:16.974769+09:00","created_by":"jykim","updated_at":"2026-02-14T17:10:38.190534+09:00","closed_at":"2026-02-14T17:10:38.190534+09:00","close_reason":"atomic SQL 연산, CSP 헤더, 타입 수정 완료"}
{"id":"cuggu-vxz","title":"네이버 로그인 추가 (NextAuth v5 provider)","description":"현재 카카오 로그인만 지원. 네이버 로그인 provider를 NextAuth v5에 추가하여 소셜 로그인 옵션 확장. - 네이버 개발자센터 앱 등록 및 OAuth 설정 - NextAuth 네이버 provider 설정 - 로그인 UI에 네이버 로그인 버튼 추가 - 기존 카카오 로그인과 동일한 사용자 플로우 보장","status":"closed","priority":2,"issue_type":"feature","owner":"jiyk1308@solbox.com","created_at":"2026-02-13T16:06:01.515666+09:00","created_by":"jykim","updated_at":"2026-02-13T16:38:17.425548+09:00","closed_at":"2026-02-13T16:38:17.425548+09:00","close_reason":"auth.ts에 Naver provider + 로그인 UI 이미 구현 완료. env 키 설정 완료로 작동 가능 상태."}
{"id":"cuggu-w70","title":"[Phase 0] DB 스키마 변경 — 3 enum + 3 테이블 + FK + relations","description":"db/schema.ts: (1) users.aiCredits default 2→5, (2) aiGenerations에 jobId FK 추가, (3) aiJobModeEnum(SINGLE,BATCH), aiJobStatusEnum(PENDING~CANCELLED), aiCreditTxTypeEnum(DEDUCT~BONUS) 추가, (4) ai_reference_photos, ai_generation_jobs, ai_credit_transactions 신규 테이블, (5) relations 확장, (6) types/ai.ts JobConfig, schemas/ai.ts Job/ReferencePhoto Zod 추가","status":"closed","priority":0,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-12T18:03:52.435668+09:00","created_by":"jykim","updated_at":"2026-02-12T18:11:14.936111+09:00","closed_at":"2026-02-12T18:11:14.936111+09:00","close_reason":"Closed"}
{"id":"cuggu-wci","title":"[Phase 0] Drizzle 마이그레이션 생성 및 푸시","description":"npx drizzle-kit generate \u0026\u0026 npx drizzle-kit push. 스키마 변경 반영 확인.","status":"closed","priority":0,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-12T18:03:56.4358+09:00","created_by":"jykim","updated_at":"2026-02-12T18:11:25.670034+09:00","closed_at":"2026-02-12T18:11:25.670034+09:00","close_reason":"Closed","dependencies":[{"issue_id":"cuggu-wci","depends_on_id":"cuggu-w70","type":"blocks","created_at":"2026-02-12T18:05:06.648728+09:00","created_by":"jykim"}]}
{"id":"cuggu-wdms","title":"requireAuthUser 미활용 — 인증 코드 50회+ 복붙","description":"lib/api-utils.ts:206에 requireAuthUser() 있지만 AI route 22개 파일에서 미사용. session+email+DB조회 블록 50회+ 복붙. AI route는 email 기반, invitations route는 id 기반으로 인증 체계 이중화. requireAuthUser에 email 오버로드 추가 후 전체 적용.","status":"open","priority":1,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T16:26:14.878307+09:00","created_by":"jykim","updated_at":"2026-02-20T16:26:14.878307+09:00"}
{"id":"cuggu-wfn","title":"RSVP 독립 탭 분리 (설정에서 추출)","description":"Settings 탭에 묻혀있는 RSVP를 독립 탭으로 분리. 경쟁사 모두 독립 섹션으로 운영 중. 변경파일: tabs.ts, RsvpTab.tsx(신규), SettingsTab.tsx, EditorPanel.tsx, invitation.ts","status":"closed","priority":1,"issue_type":"feature","owner":"jiyk1308@solbox.com","created_at":"2026-02-09T15:09:38.554603+09:00","created_by":"jykim","updated_at":"2026-02-09T15:11:31.085357+09:00","closed_at":"2026-02-09T15:11:31.085357+09:00","close_reason":"RSVP 독립 탭 분리 완료: tabs.ts, RsvpTab.tsx(신규), SettingsTab.tsx, EditorPanel.tsx, SectionPanel.tsx, Sidebar.tsx, invitation.ts 수정"}
{"id":"cuggu-whzz","title":"[공개뷰] ShareBar pb-16 부족 — iOS safe area에서 콘텐츠 가림","description":"파일: InvitationView.tsx:34\n문제: 하단 공유 바의 패딩이 iOS 홈 인디케이터(safe area)를 고려하지 않음. iPhone에서 공유 버튼이 홈바에 가려짐.\n수정 방향: pb-[env(safe-area-inset-bottom)] 또는 pb-safe 유틸 추가. viewport meta에 viewport-fit=cover 확인.","status":"open","priority":1,"issue_type":"bug","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T16:37:47.100215+09:00","created_by":"jykim","updated_at":"2026-02-20T16:37:47.100215+09:00","labels":["mobile","ui"]}
{"id":"cuggu-wiaq","title":"MapSection setInterval 폴링으로 카카오 SDK 로드 확인","description":"components/templates/MapSection.tsx:53-64 — setInterval로 카카오 SDK 로드 폴링. script.onload 이벤트 활용 권장.","status":"open","priority":3,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T16:27:31.715986+09:00","created_by":"jykim","updated_at":"2026-02-20T16:27:31.715986+09:00"}
{"id":"cuggu-wl1","title":"중간 사진 구분선 (Section Dividers)","description":"섹션 사이에 전체 너비 사진 삽입. settings.sectionDividers: Record\u003cstring, string\u003e (sectionId → imageUrl). 에디터 섹션 순서 설정에서 사진 추가 버튼. 800px 너비 최적화.","notes":"[로드맵 리뷰] P3→P4. CSS border로 충분. 별도 이슈 불필요한 수준.","status":"open","priority":4,"issue_type":"feature","owner":"jiyk1308@solbox.com","created_at":"2026-02-09T11:27:17.807598+09:00","created_by":"jykim","updated_at":"2026-02-10T17:13:32.190162+09:00"}
{"id":"cuggu-x4o","title":"랜딩 이미지 에셋 교체 (실제 AI 결과물)","description":"현재 Unsplash 플레이스홀더 이미지를 실제 AI 생성 청첩장 결과물로 교체. 참고: docs/diary/2026-02-05_landing-redesign.md","status":"open","priority":2,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-10T14:37:53.236142+09:00","created_by":"jykim","updated_at":"2026-02-10T14:37:53.236142+09:00"}
{"id":"cuggu-xote","title":"[에디터] VenueTab 드롭다운 window.scrollY 사용 — 에디터 패널 스크롤에서 위치 오류","description":"파일: VenueTab.tsx:127\n문제: 주소 검색 드롭다운 위치 계산에 window.scrollY 사용. 에디터는 자체 스크롤 컨테이너를 쓰므로 window.scrollY는 항상 0. 드롭다운이 엉뚱한 위치에 표시됨.\n수정 방향: getBoundingClientRect() 사용하거나, 스크롤 컨테이너의 scrollTop 참조. 또는 Floating UI 라이브러리로 위치 계산 위임.","status":"open","priority":1,"issue_type":"bug","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T16:38:03.292476+09:00","created_by":"jykim","updated_at":"2026-02-20T16:38:03.292476+09:00","labels":["editor","ui"]}
{"id":"cuggu-yamu","title":"localStorage SSR hydration mismatch","description":"app/(dashboard)/ai-photos/page.tsx:31-36 — useState 초기값에서 localStorage 읽기. SSR/CSR 불일치 발생. useEffect에서 localStorage 읽도록 수정.","status":"open","priority":2,"issue_type":"bug","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T16:27:13.581298+09:00","created_by":"jykim","updated_at":"2026-02-20T16:27:13.581298+09:00"}
{"id":"cuggu-ykg2","title":"[공개뷰] 계좌번호 복사 버튼 없음 — 핵심 UX 누락","description":"파일: AccountsSection.tsx:33\n문제: 축의금 계좌번호를 눈으로 보고 직접 입력해야 함. 청첩장 핵심 기능인 계좌 복사가 없음.\n수정 방향: 계좌번호 옆에 복사 버튼 추가. navigator.clipboard.writeText() 사용, 복사 완료 토스트 표시. 카카오페이 송금 링크도 고려.","status":"open","priority":0,"issue_type":"bug","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T16:37:24.406469+09:00","created_by":"jykim","updated_at":"2026-02-20T16:37:24.406469+09:00","labels":["ui","ux"]}
{"id":"cuggu-yx87","title":"[대시보드] 버튼 rounded-md/lg/xl 혼용 — 디자인 시스템 토큰 없음","description":"파일: 전체 대시보드 컴포넌트\n문제: 같은 페이지 내에서 버튼이 rounded-md, rounded-lg, rounded-xl을 섞어 사용. 시각적 일관성 부족.\n수정 방향: 디자인 토큰으로 BTN_ROUNDED 상수 정의하거나, Button 공통 컴포넌트에서 일관된 border-radius 적용.","status":"open","priority":1,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T16:38:31.942723+09:00","created_by":"jykim","updated_at":"2026-02-20T16:38:31.942723+09:00","labels":["dashboard","design-system","ui"]}
{"id":"cuggu-z3j","title":"프로젝트 초기 설정","description":"Next.js 16 프로젝트 생성 (Turbopack 기본 탑재), TypeScript 설정, Tailwind CSS, ESLint, Prettier 설정, async params 패턴 적용","status":"closed","priority":0,"issue_type":"task","created_at":"2026-02-03T14:34:16.851014+09:00","created_by":"jyk","updated_at":"2026-02-03T16:45:42.181767+09:00","closed_at":"2026-02-03T16:45:42.181767+09:00","close_reason":"Closed","labels":["setup"]}
{"id":"cuggu-zkl4","title":"useConfirm resolver useState → useRef 전환","description":"hooks/useConfirm.ts:16-18 — resolver를 useState로 관리 → 변경마다 리렌더 유발. useRef가 더 적합.","status":"open","priority":3,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T16:26:52.716519+09:00","created_by":"jykim","updated_at":"2026-02-20T16:26:52.716519+09:00"}
{"id":"cuggu-zt3m","title":"[대시보드] invitations/rsvp/guestbook 페이지네이션 없음","description":"파일: invitations, rsvp, guestbook 페이지\n문제: 리스트 페이지에 페이지네이션이 없어 데이터가 많아지면 전체를 한 번에 렌더링. 성능 저하 + 스크롤 피로.\n수정 방향: 커서 기반 또는 오프셋 기반 페이지네이션 구현. API에 limit/offset 파라미터 추가.","status":"open","priority":2,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T16:39:26.309655+09:00","created_by":"jykim","updated_at":"2026-02-20T16:39:26.309655+09:00","labels":["dashboard","ui"]}
{"id":"cuggu-zv78","title":"[에디터] TopBar 높이 3곳 다름 (56/44/48px)","description":"파일: TopBar, MobileTopBar, MobilePreviewOverlay\n문제: 상단바 높이가 56px(데스크톱), 44px(모바일), 48px(프리뷰 오버레이)로 제각각. 전환 시 콘텐츠 점프.\n수정 방향: TOPBAR_HEIGHT 상수 정의. 데스크톱/모바일 별도 값이 필요하면 CSS 변수로 관리.","status":"open","priority":3,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T16:39:57.912413+09:00","created_by":"jykim","updated_at":"2026-02-20T16:39:57.912413+09:00","labels":["editor","ui"]}
{"id":"cuggu-zxtj","title":"[에디터] AccountTab ▶▼ 텍스트 이모지 → Lucide 아이콘으로 교체","description":"파일: AccountTab.tsx:243\n문제: 펼침/접힘 표시에 ▶▼ 유니코드 텍스트 이모지 사용. OS/브라우저마다 렌더링이 다르고, 다른 아이콘과 스타일 불일치.\n수정 방향: lucide-react의 ChevronRight/ChevronDown으로 교체. size/color 통일.","status":"open","priority":2,"issue_type":"task","owner":"jiyk1308@solbox.com","created_at":"2026-02-20T16:39:26.253813+09:00","created_by":"jykim","updated_at":"2026-02-20T16:39:26.253813+09:00","labels":["editor","ui"]}
